<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data Filtering and Selection Techniques</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KSGZ4ESKQ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'G-KSGZ4ESKQ3');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">RDM Jumpstart</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 1
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block1_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block1-1_Intro-RDM.html">Introduction to Research Data Management</a>
    </li>
    <li>
      <a href="Block1-2_Intro-DMP.html">Introduction to Data Management Plans</a>
    </li>
    <li>
      <a href="Block1-3_OSF.html">Introduction to OSF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 2
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block2_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block2-1_Files-and-Folders.html">Organizing Files and Folders</a>
    </li>
    <li>
      <a href="Block2-2_Naming-Conventions.html">Naming Conventions and Folder Structure</a>
    </li>
    <li>
      <a href="Block2-3_Documentation.html">Documentation</a>
    </li>
    <li>
      <a href="Block2-4_Documentation-in-Action.html">Documentation in Action</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 3
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block3_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block3-1_Excel-to-R.html">Reproducible Research and Moving from Excel to Scripting</a>
    </li>
    <li>
      <a href="Block3-2_Intro-to-R.html">Introduction to R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 4
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block4_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block4-1_File-Paths.html">File and Directory Paths</a>
    </li>
    <li>
      <a href="Block4-2_First-Steps.html">First Steps in R</a>
    </li>
    <li>
      <a href="Block4-3_Data-Types.html">Data Types and Structures in R</a>
    </li>
    <li>
      <a href="Block4-4_Updating-Documentation.html">Updating Documentation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 5
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block5_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block5-1_Viz-Types.html">Types of Visualizations</a>
    </li>
    <li>
      <a href="Block5-2_ggplot.html">Visualizations with ggplot</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 6
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block6_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block6-1_Sharing-and-Deposit.html">Sharing and Depositing Data</a>
    </li>
    <li>
      <a href="Block6-2_DMP-wrap.html">DMP Wrap-Up</a>
    </li>
    <li>
      <a href="Block6-3_Borealis.html">Borealis Deposit</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Bonus Blocks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block7_Bonus_Filter-and-Select.html">R: Filter and Select</a>
    </li>
    <li>
      <a href="Block7_Bonus_Saving-Output.html">R: Saving Outputs</a>
    </li>
    <li>
      <a href="Block7_Bonus_Troubleshooting.html">R: Troubleshooting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Extras
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Resources</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="codeOfConduct.html">Code of Conduct</a>
        </li>
        <li>
          <a href="Block7_EXT-ProjectDMP.html">Project DMP</a>
        </li>
        <li>
          <a href="Block7_EXT-RCheatsheet.html">R Cheatsheet</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Roadmaps</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-RDMRoadmap.html">RDM Roadmap</a>
        </li>
        <li>
          <a href="Block7_EXT-CRRoadmap.html">Reproducible Roadmap</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Concetps in Reproduciblity</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-BaseRtidyverse.html">Base R &amp; Tidyverse</a>
        </li>
        <li>
          <a href="Block7_EXT-ScriptsNotebooks.html">Scripts &amp; Notebooks</a>
        </li>
        <li>
          <a href="Block7_EXT-idePaths.html">IDEs &amp; Relative Paths</a>
        </li>
        <li>
          <a href="Block7_EXT-ChallengesToRDM.html">Challenges to Good RDM Practices</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Additional Content</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-dd.html">Creating a data dictionary</a>
        </li>
        <li>
          <a href="Block7_EXT-dirsFiles.html">Directories and files</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Setup</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-DMP-setup.html">DMP Assistant Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-osfSetup.html">OSF Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-RRStudio.html">R &amp; RStudio Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-Borealis.html">Borealis Setup</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="contributors.html">Contributors</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Day 3 - Part 2</h1>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<hr />
<p><img src="images/3-ACT-3-Overview.png" /></p>
</div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<h4 style="text-align:left;">
<p><strong>Subsetting data is an essential part of the
<em>transform</em> stage in the data science workflow. It involves
extracting a portion of the dataset based on specific
conditions.</strong></p>
</h4>
<p>In this short tutorial, we will learn:</p>
<ol style="list-style-type: decimal">
<li>What subsetting means and why it is crucial</li>
<li>How to perform subsetting using conditional operators and the dplyr
functions <code>filter()</code> and <code>select()</code></li>
</ol>
<hr />
<h4 style="text-align:left;">
<p>Why is subsetting a dataset important?</p>
</h4>
<div class="note">
<p>Most real-world datasets are large and complex, with many variables
and thousands of records.</p>
</div>
<p>Most real-world datasets are large and complex, with many variables
and thousands of records. Analyzing all of it at once can introduce
noise, slow down computation, and make it harder to detect meaningful
patterns. By filtering rows and selecting specific columns, we reduce
this complexity, improve clarity, and can more efficiently test
hypotheses or build models. Subsetting also plays a key role in ensuring
data quality, allowing us to remove irrelevant or problematic entries
like missing values, outliers, or categories outside the scope of our
analysis.</p>
<div class="note">
<p>Filtering rows and selecting specific columns helps us:</p>
<ul>
<li>Reduce dataset complexity and improve clarity, making it easier to
test hypotheses efficiently</li>
<li>Remove irrelevant or problematic entries such as missing values,
outliers, or unused categories, improving overall data quality</li>
</ul>
</div>
<div class="flag">
<p>The original dataset is very large—it includes 848 variables and
17,000+ observations.</p>
</div>
<p>The dataset we have used in previous sessions originated from the
[General Social Survey, Cycle 29 (2015)] (<a
href="https://odesi.ca/en/details?id=/odesi/doi__10-5683_SP3_RDS0CK.xml"
class="uri">https://odesi.ca/en/details?id=/odesi/doi__10-5683_SP3_RDS0CK.xml</a>),
from the Social and Aboriginal Statistics Division at Statistics Canada.
This survey tracks how Canadians spend and manage their time, helping us
understand patterns tied to well-being and stress. However, the original
dataset is very large—it includes over 848 variables and more than
17,000 observations.</p>
<p>For the purposes of this tutorial, we are not interested in every
variable. Instead, we are working with a <strong>subset</strong> of this
dataset: 29 variables focused mainly on time durations and key
demographic characteristics. This makes the data more manageable and
relevant for our exploration of time use and perceptions of time
pressure.</p>
<hr />
<h4 style="text-align:left;">
<p>Framing the Guiding Question: Who Feels Rushed?</p>
</h4>
<!-- ### Framing the Guiding Question: Who Feels Rushed? -->
<p>Let’s return to the time usage dataset. In this section, suppose
we’re interested in understanding how people who feel rushed spend their
time differently from those who don’t. To answer this question, we don’t
need every single row or column, as working with the data in its
original format would be unnecessarily complex. Instead, we need to “get
inside” our data by subsetting: filtering the rows and selecting the
columns that matter.</p>
<p>We will explore our dataset through one guiding question:</p>
<p><strong>How do people who feel rushed spend their time differently
from those who don’t?</strong></p>
<p>We’ll focus on the relevant rows and columns that answer this
question.</p>
<hr />
</div>
<div id="step-0-setup-and-load-the-data" class="section level2">
<h2>Step 0: Setup and Load the Data</h2>
<hr />
<h4 style="text-align:left;">
<p>Load and Understand the Dataset</p>
</h4>
<!-- ### Load and Understand the Dataset  -->
<p>First, we need to load the necessary libraries for this session.</p>
<pre class="r"><code>library(dplyr)</code></pre>
<p>In our subsequent tasks, the <code>dplyr</code> package will be
essential for subsetting operations such as filtering rows and selecting
columns. We can either continue using the <code>js_data</code> object
from the previous section or load the <code>timeuse_day3_1.Rdata</code>
file from the data folder.</p>
<pre class="r"><code>load(&quot;data/timeuse_clean-cols_recoded.RData&quot;)</code></pre>
<p>Now, let’s again examine our dataset structure by displaying the
first few rows by using <code>head()</code> function.</p>
<pre class="r"><code>js_data |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
</tbody>
</table>
</div>
<p>As we can see, there are 30 columns in the dataset, which is a lot to
work with. For now, we can focus on the following key columns:</p>
<ul>
<li><code>id</code>: Record identification</li>
<li><code>ageGrp</code>: Age group of respondent (groups of 10)</li>
<li><code>sex</code>: Sex of respondent</li>
<li><code>maritalStat</code>: Marital status of the respondent</li>
<li><code>province</code>: Province of residence</li>
<li><code>popCenter</code>: Population centre indicator</li>
<li><code>eduLevel</code>: Educational attainment (highest degree)</li>
<li><code>feelRushed</code>: General time use – Feel rushed</li>
<li><code>extraTime</code>: General time use – Extra time</li>
<li><code>durSleep</code>: Duration – Sleeping, resting, relaxing, sick
in bed</li>
<li><code>durWork</code>: Duration – Paid work</li>
<li><code>timeWorkaholic</code>: Perceptions of time – Workaholic</li>
<li><code>timeWantAlone</code>: Perceptions of time – Would like more
time alone</li>
</ul>
<p>These columns provide information on demographics, time usage, and
time perceptions. We can use them to explore patterns in work-life
balance, education, and social time.</p>
<p>Now that we understand our dataset structure, let’s move on to
learning how to filter and manipulate this data effectively using
Boolean operators in <code>dplyr</code>.</p>
<hr />
</div>
<div id="step-1-learning-about-filtering" class="section level2">
<h2>Step 1: Learning About Filtering</h2>
<hr />
<h4 style="text-align:left;">
<p>Conditional Filtering with Boolean Operators using
<strong>dplyr</strong></p>
</h4>
<!-- ### Conditional Filtering with Boolean Operators using **dplyr** -->
<p><code>dplyr</code> is a powerful package that lets us extract and
transform data with a clear, readable syntax. In <code>dplyr</code>, we
use functions like <code>filter()</code>, <code>select()</code>, and
<code>mutate()</code> to work with our data. Boolean operators
(<code>==</code>, <code>&lt;</code>, <code>&gt;</code>,
<code>&lt;=</code>, <code>&gt;=</code>, and <code>!=</code>) are used
within these functions to test conditions, and we can combine conditions
with <code>&amp;</code> (and) or <code>|</code> (or).</p>
<p>Let’s start by understanding the basic comparison operators that will
help us create filtering conditions.</p>
<div id="comparison-operators" class="section level4">
<h4><strong>Comparison Operators</strong></h4>
<p>Comparison operators allow us to check conditions within our dataset.
These return <code>TRUE</code> or <code>FALSE</code> based on whether
the condition is met.</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>Equal to</td>
<td><code>5 == 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Not equal to</td>
<td><code>5 != 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>Less than</td>
<td><code>3 &lt; 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&gt;</code></td>
<td>Greater than</td>
<td><code>5 &gt; 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
<td><code>3 &lt;= 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
<td><code>5 &gt;= 3</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>Once we understand these basic comparison operators, we can combine
them using logical operators to create more complex filtering
conditions.</p>
</div>
<div id="logical-operators" class="section level4">
<h4><strong>Logical Operators</strong></h4>
<p>Logical operators allow us to filter data based on multiple
conditions.</p>
<table>
<colgroup>
<col width="17%" />
<col width="45%" />
<col width="19%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;</code></td>
<td>Logical AND (Both conditions must be TRUE)</td>
<td><code>(5 &gt; 3) &amp; (4 &lt; 6)</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>Logical OR (At least one condition must be TRUE)</td>
<td><code>(5 &gt; 3) | (4 &gt; 6)</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>!</code></td>
<td>Logical NOT (Reverses TRUE/FALSE)</td>
<td><code>!(5 &gt; 3)</code></td>
<td><code>FALSE</code></td>
</tr>
</tbody>
</table>
<p>Let’s try using these logical operators to filter the rows in the
following example.</p>
<p>We want to understand whether feeling rushed might relate to how much
time is spent on work, sleep, or alone time. Therefore, the columns of
interest are <code>feelRushed</code>, <code>durSleep</code>,
<code>durWork</code>, and <code>durAlone</code>. First, let’s explore
the values in these columns using <code>dplyr</code>.</p>
<p>Let’s look at the unique values in the <code>feelRushed</code> column
to understand what categories exist in our data before we start
filtering based on these values.</p>
<pre class="r"><code>js_data |&gt; 
  distinct(feelRushed)</code></pre>
<pre><code>## # A tibble: 7 × 1
##   feelRushed
##        &lt;dbl&gt;
## 1          1
## 2          3
## 3          2
## 4          4
## 5          5
## 6          6
## 7         NA</code></pre>
<p>Since our duration columns (<code>durSleep</code>,
<code>durWork</code>, and <code>durAlone</code>) are continuous
numerical variables rather than categorical, it’s more informative to
examine their distributions rather than just their unique values.
Looking at the distribution helps us understand which values are common,
identify patterns, and spot potential outliers:</p>
<pre class="r"><code>js_data |&gt; 
  count(durSleep) |&gt; 
  arrange(desc(n)) |&gt; 
  head(10) </code></pre>
<pre><code>## # A tibble: 10 × 2
##    durSleep     n
##       &lt;dbl&gt; &lt;int&gt;
##  1      480  1323
##  2      540  1223
##  3      510  1093
##  4      450   854
##  5      600   849
##  6      420   810
##  7      570   784
##  8      630   455
##  9      390   443
## 10      660   358</code></pre>
<pre class="r"><code>js_data |&gt; 
  count(durWork) |&gt; 
  arrange(desc(n)) |&gt; 
  head(10)</code></pre>
<pre><code>## # A tibble: 10 × 2
##    durWork     n
##      &lt;dbl&gt; &lt;int&gt;
##  1       0 11243
##  2     480   437
##  3     510   237
##  4     450   231
##  5     540   230
##  6     420   213
##  7     600   140
##  8     495   138
##  9     465   125
## 10     525   113</code></pre>
<pre class="r"><code>js_data |&gt; 
  count(durAlone) |&gt; 
  arrange(desc(n)) |&gt; 
  head(10) </code></pre>
<pre><code>## # A tibble: 10 × 2
##    durAlone     n
##       &lt;dbl&gt; &lt;int&gt;
##  1     1440  1459
##  2        0  1122
##  3       60   244
##  4       30   216
##  5      120   198
##  6      180   179
##  7      150   162
##  8       90   159
##  9     1380   156
## 10      240   154</code></pre>
<div class="walkthrough">
<p>These commands work together to show the most common time
patterns:</p>
<ul>
<li><code>count()</code> tallies each duration value,</li>
<li><code>arrange(desc(n))</code> sorts from highest to lowest
frequency,</li>
<li><code>head(10)</code> keeps only the top 10 results</li>
</ul>
<p>This quick overview helps us understand typical time allocation
patterns for sleep, work, and being alone.</p>
</div>
<p>It appears that all the columns contain numeric values. However, as
we look at the data dictionary, we’ll see that only
<code>durWork</code>, <code>durSleep</code> and <code>durAlone</code>
have numeric values that represent real quantities (minutes of work,
sleep or time alone in a day). In contrast, the values in the
<code>feelRushed</code> column have a different meaning.</p>
<table>
<thead>
<tr class="header">
<th>Code</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>daily</td>
</tr>
<tr class="even">
<td>2</td>
<td>few Times a Week</td>
</tr>
<tr class="odd">
<td>3</td>
<td>once a Week</td>
</tr>
<tr class="even">
<td>4</td>
<td>once a Month</td>
</tr>
<tr class="odd">
<td>5</td>
<td>less a Month</td>
</tr>
<tr class="even">
<td>6</td>
<td>never</td>
</tr>
</tbody>
</table>
<hr />
</div>
</div>
<div id="step-2-apply-basic-filtering" class="section level2">
<h2>Step 2: Apply Basic Filtering</h2>
<hr />
<!-- ### Filtering Rows with *dplyr* -->
<h4 style="text-align:left;">
<p>Filtering Rows with <strong>dplyr</strong></p>
</h4>
<p><img src="images/3-ACT-3-Filter.png" /></p>
<p>For this analysis, we will consider respondents who report feeling
rushed as those whose frequency of feeling this way is at least once a
week, and those who feel this way less than once a week as not feeling
rushed.</p>
<div id="extracting-respondents-who-do-or-do-not-feel-rushed-daily"
class="section level4">
<h4>Extracting Respondents Who Do or Do not Feel Rushed Daily</h4>
<p>First, let’s extract only the respondents who report feeling rushed
daily. Looking at the table, the value corresponding to feeling rushed
daily is 1. We can filter for these respondents using
<code>filter()</code>.</p>
<div class="note">
<p>The <code>filter()</code> function in <code>dplyr</code> returns only
the rows that meet a specified condition.</p>
</div>
<p>We filter any row which has <code>feelRushed</code> equal to 1 by
passing the Boolean expression <code>feelRushed == 1</code> into
<code>filter</code>, and then use <code>head()</code> to see what the
filtered data look like.</p>
<pre class="r"><code>js_data |&gt; 
  filter(feelRushed == 1) |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
<tr>
<td style="text-align:right;">
10011
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
475
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10012
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
390
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
</tr>
</tbody>
</table>
</div>
<p>Looking at the filtered data, we can confirm that our filter worked
correctly—all rows show <code>feelRushed</code> equal to 1 (meaning they
feel rushed daily).</p>
<p>Using <code>filter()</code>, we subset the data to keep only those
rows where the condition is met. In the above example, the condition
<code>feelRushed == 1</code> creates a logical vector that is
<code>TRUE</code> for rows where the value equals 1 (corresponding to
“daily”).</p>
</div>
<div id="using-comparison-and-logical-operators" class="section level4">
<h4>Using Comparison and Logical Operators</h4>
<p>Not only can we use the <code>==</code> operator to test for
equality, but we can also use operators such as <code>&lt;</code>,
<code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, and
<code>!=</code> to compare values. For example, we might filter rows
where a numeric variable exceeds a certain threshold, is below a limit,
or is not equal to a specified value. Let’s use an example from the
<code>durSleep</code> column.</p>
<p>For instance, if we want to filter rows for the <code>durSleep</code>
column to capture any instances with sleep duration less than
<code>600</code>, we can write:</p>
<pre class="r"><code>js_data |&gt; 
  filter(durSleep &lt; 600) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
</tbody>
</table>
</div>
<p>Alternatively, we can filter rows where <code>durSleep</code> is
between <code>600</code> and <code>1000</code>. To do this, we chain two
conditions using the <code>&amp;</code> operator:</p>
<pre class="r"><code>js_data |&gt; 
  filter(durSleep &gt;= 600 &amp; durSleep &lt;= 1000) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10006
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
635
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
650
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
<tr>
<td style="text-align:right;">
10011
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
475
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10016
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
</tr>
<tr>
<td style="text-align:right;">
10021
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NS
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
</tr>
<tr>
<td style="text-align:right;">
10025
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10027
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
600
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
765
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
330
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NB
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
</tbody>
</table>
</div>
<div class="walkthrough">
<p>In this example:</p>
<ul>
<li>The condition <code>durSleep &gt;= 600</code> checks for rows where
sleep duration is at least <code>600</code>.</li>
<li>The condition <code>durSleep &lt;= 1000</code> checks for rows where
sleep duration is at most <code>1000</code>.</li>
<li>The <code>&amp;</code> operator combines these conditions, ensuring
that only rows satisfying both conditions are returned.</li>
</ul>
</div>
<p>Here we’ve used the <code>&amp;</code> operator for “and” conditions,
but we can also use the <code>|</code> operator to specify “or”
conditions. By using these boolean operators, we can chain multiple
conditions together.</p>
<hr />
</div>
</div>
<div id="step-3-apply-complex-filtering" class="section level2">
<h2>Step 3: Apply Complex Filtering</h2>
<hr />
<!-- ### Complex Filtering with dplyr: Filtering Rows for Those Who Feel Rushed -->
<h4 style="text-align:left;">
<p>Complex Filtering with <strong>dplyr</strong>: Filtering Rows for
Those Who Feel Rushed</p>
</h4>
<p>Now, let’s perform a more complex filtering. Suppose we want to
capture respondents who feel rushed frequently—that is, those whose
<code>feelRushed</code> value is either <code>1</code>, <code>2</code>,
or <code>3</code>—and those who do not feel rushed frequently, meaning
those whose <code>feelRushed</code> value is either <code>4</code>,
<code>5</code>, or <code>6</code>.</p>
<p>There are multiple ways to filter rows that meet one of these
conditions.</p>
<div id="using-range-comparison" class="section level4">
<h4>Using Range Comparison</h4>
<p>The first method uses a range comparison with <code>&lt;=</code> to
filter the rows.</p>
<pre class="r"><code>js_data |&gt; 
  filter(feelRushed &lt;= 3) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code>js_data |&gt; 
  filter(feelRushed &gt; 3 &amp; feelRushed &lt;= 6) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10006
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
635
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
650
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
<tr>
<td style="text-align:right;">
10007
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
440
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
1200
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10009
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1060
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10013
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
200
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
</tr>
<tr>
<td style="text-align:right;">
10016
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
</tr>
<tr>
<td style="text-align:right;">
10021
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NS
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
</tr>
</tbody>
</table>
</div>
<p>Now let’s calculate how many rows remain after we performed
filtering.</p>
<pre class="r"><code>all_rows &lt;- js_data |&gt; 
  nrow()
rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed &lt;= 3) |&gt;
  nrow()
not_rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed &gt; 3 &amp; feelRushed &lt;= 6) |&gt;
  nrow()</code></pre>
<p>Let’s print and see the number of rows in each dataframe after
filtering.</p>
<pre class="r"><code>print(paste(&quot;The number of rows in data is:&quot;, all_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in data is: 17390&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;The number of rows in rushed is:&quot;, rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in rushed is: 12689&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;The number of rows in not rushed is:&quot;, not_rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in not rushed is: 4639&quot;</code></pre>
<div class="walkthrough">
<ul>
<li>This approach selects rows where <code>feelRushed</code> is less
than or equal to <code>3</code> (i.e., values <code>1</code>,
<code>2</code>, or <code>3</code>) to indicate respondents who feel
rushed.</li>
<li>Rows where <code>feelRushed</code> is greater than or equal to
<code>4</code> and less than or equal to <code>6</code> are considered
not rushed.</li>
<li>We use the <code>&amp;</code> operator to chain the two Boolean
operations.</li>
<li>The <code>nrow()</code> function calculates the number of rows in
the data frame.</li>
</ul>
</div>
<p>As we can see, the original data frame has <code>17,390</code> rows;
after filtering, the rushed data frame contains only <code>12,689</code>
rows.</p>
</div>
<div id="chaining-multiple-conditions" class="section level4">
<h4>Chaining Multiple Conditions</h4>
<p>Alternatively, we can use a second method that involves chaining
three conditions using the <code>|</code> operator. While this approach
is more verbose, it makes the logic very explicit:</p>
<pre class="r"><code>js_data |&gt; 
  filter(feelRushed == 1 | feelRushed == 2 | feelRushed == 3) |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code>js_data |&gt; 
  filter(feelRushed == 4 | feelRushed == 5 | feelRushed == 6) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:right;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10006
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
635
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
650
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
</tr>
<tr>
<td style="text-align:right;">
10007
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
440
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
1200
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10009
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1060
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
</tr>
<tr>
<td style="text-align:right;">
10013
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
200
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
</tr>
<tr>
<td style="text-align:right;">
10016
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
</tr>
<tr>
<td style="text-align:right;">
10021
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NS
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
</tr>
</tbody>
</table>
</div>
<p>This method very explicitly tests for rows where the
<code>feelRushed</code> value is either <code>1</code>, <code>2</code>,
or <code>3</code>, or for rows where the value is either <code>4</code>,
<code>5</code> or <code>6</code>.</p>
<p>Again, let’s calculate how many rows remain after we performed
filtering.</p>
<pre class="r"><code>rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed == 1 | feelRushed == 2 | feelRushed == 3) |&gt;
  nrow()
not_rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed == 4 | feelRushed == 5 | feelRushed == 6) |&gt;
  nrow()

print(paste(&quot;The number of rows in rushed is:&quot;, rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in rushed is: 12689&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;The number of rows in not rushed is:&quot;, not_rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in not rushed is: 4639&quot;</code></pre>
<p>As we can see, looking at the remain rows after filtering, it
produces the same output as previously.</p>
<p>There is also a third, more elegant approach using the
<code>%in%</code> operator, but we will explore this method in the
exercises at the end of this session.</p>
<hr />
</div>
</div>
<div id="step-4-select-relevant-variables" class="section level2">
<h2>Step 4: Select Relevant Variables</h2>
<hr />
<p><img src="images/3-ACT-3-Select.png" /></p>
<h4 style="text-align:left;">
<p>Selecting and Cleaning Time-Related Variables</p>
</h4>
<!-- ### Selecting and Cleaning Time-Related Variables -->
<p>Next, we’ll focus on the key time allocation columns that are most
relevant to our analysis: <code>durWork</code>, <code>durSleep</code>,
and <code>durAlone</code>. These variables represent:</p>
<ul>
<li><code>durWork</code>: Time spent on paid work activities</li>
<li><code>durSleep</code>: Time spent sleeping, resting, or
relaxing</li>
<li><code>durAlone</code>: Time spent alone</li>
</ul>
<div class="note">
<p>The <code>select()</code> function in <code>dplyr</code> is used to
choose specific columns from a dataset.</p>
</div>
<p>We’ll select only these three columns from our rushed and not_rushed
datasets using <code>select()</code>.</p>
<pre class="r"><code>rushed_time &lt;- js_data |&gt; 
  filter(feelRushed &lt;= 3) |&gt;
  select(durWork, durSleep, durAlone) 

not_rushed_time &lt;- js_data |&gt; 
  filter(feelRushed &gt; 3) |&gt; 
  select(durWork, durSleep, durAlone)</code></pre>
<div class="walkthrough">
<p>In this example, we use the <code>select()</code> function to extract
only the relevant columns from the dataset resulting from filtering rows
of those who feel rushed (i.e., <code>feelRushed &lt;=3</code>) and
those who don’t feel rushed (i.e., <code>feelRushed &gt; 3</code>).</p>
<ul>
<li><code>select(durWork, durSleep, durAlone)</code> tells R to keep
only these three columns:
<ul>
<li><code>durWork</code>: duration of paid work</li>
<li><code>durSleep</code>: duration of sleep and rest</li>
<li><code>durAlone</code>: duration of time spent alone</li>
</ul></li>
<li>The <code>|&gt;</code> (pipe operator) passes the data frames on the
left into the <code>select()</code> function.</li>
</ul>
<p>This step helps reduce the dataset to only the variables we care
about for comparing how rushed and not-rushed individuals allocate their
time.</p>
</div>
<p>In the previous code, we assigned the resulting data frames to the
variables <code>not_rushed_time</code> and <code>rushed_time</code>.
These variables will be useful when we compare time usage between two
groups.</p>
<p>Let’s examine the first few rows of <code>rushed_time</code> and
<code>not_rushed_time</code>.</p>
<pre class="r"><code>rushed_time |&gt; 
  head()

not_rushed_time |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durAlone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
770
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
630
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
875
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
815
</td>
</tr>
<tr>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
430
</td>
</tr>
</tbody>
</table>
</div>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durAlone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
635
</td>
<td style="text-align:right;">
650
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
440
</td>
<td style="text-align:right;">
1200
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
1060
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
200
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
1440
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
640
</td>
</tr>
</tbody>
</table>
</div>
<p>As we can see, our data frame resulting from using
<code>select()</code> only contain 3 columns: <code>durSleep</code>,
<code>durAlone</code>, and <code>durWork</code></p>
<div class="note">
<p><strong>Helper Functions for <code>select()</code></strong></p>
<p>Suppose we want to pull out every column in <code>js_data</code>
whose name refers to “duration”—for example, <code>durWork</code>,
<code>durDriving</code>, <code>durSchoolSite</code>, and so on. We could
manually list them in <code>select()</code>, but that quickly becomes
tedious and error-prone as our data grows.</p>
<p><code>dplyr</code> provides a family of <strong>helper</strong>
functions for exactly this kind of task. In this case,
<code>starts_with("dur")</code> will match every variable whose name
begins with “dur”. We can pass that helper directly to
<code>select()</code>:</p>
<pre class="r"><code>js_data |&gt; 
  select(starts_with(&quot;dur&quot;)) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<p>There are many other helpers, such as <code>ends_with()</code>,
<code>contains()</code>, <code>matches()</code>, and more, which let us
build clean, flexible code without having to spell out every variable
name. We can check the select <a
href="https://dplyr.tidyverse.org/reference/select.html">reference</a>
in tidyverse for more information.</p>
</div>
<hr />
</div>
<div id="step-5-compare-time-use-between-groups" class="section level2">
<h2>Step 5: Compare Time Use Between Groups</h2>
<hr />
<h4 style="text-align:left;">
<p>Comparing Time Usage Between Groups</p>
</h4>
<!-- ### Results: Comparing Time Usage Between Groups -->
<p>Now that we have our cleaned datasets for both rushed and not rushed
groups, we can analyze how these groups differ in their time allocation
patterns. We’ll calculate and compare the mean durations for sleep,
work, and alone time between the two groups.</p>
<p>Let’s break this down into steps: 1. First, we’ll calculate the mean
values for each time-use variable within each group. 2. Then, we’ll
compute the differences between these means to understand the magnitude
of variation.</p>
<p>We can create a summary table that contains the mean values of
<code>durSleep</code>, <code>durAlone</code>, and <code>durWork</code>
for each of the rushed_time and not_rushed_time dataframes:</p>
<pre class="r"><code>mean_rushed &lt;- rushed_time |&gt; 
  summarise(
    durSleep = mean(durSleep, na.rm = TRUE),
    durAlone = mean(durAlone, na.rm = TRUE),
    durWork = mean(durWork, na.rm = TRUE)
  )

mean_not_rushed &lt;- not_rushed_time |&gt; 
  summarise(
    durSleep = mean(durSleep, na.rm = TRUE),
    durAlone = mean(durAlone, na.rm = TRUE),
    durWork = mean(durWork, na.rm = TRUE)
  )</code></pre>
<div class="walkthrough">
<p>How it works:</p>
<ul>
<li><code>summarise()</code> collapses each data frame down to a single
row.</li>
<li>Inside, we explicitly name each new column (<code>durSleep</code>,
<code>durAlone</code>, <code>durWork</code>) and assign it
<code>mean(old_column, na.rm = TRUE)</code>.</li>
<li><code>na.rm = TRUE</code> makes sure missing values don’t throw off
our averages.</li>
</ul>
</div>
<p>However, we can see there’s a little bit of repetition in the code
above. We can write much cleaner code to calculate the mean for every
column at once.</p>
<pre class="r"><code># Calculate the mean values for each variable using summarise and across
mean_rushed &lt;- rushed_time |&gt; 
  summarise(across(everything(), ~ mean(. , na.rm = TRUE)))

mean_not_rushed &lt;- not_rushed_time |&gt; 
  summarise(across(everything(), ~ mean(. , na.rm = TRUE)))</code></pre>
<div class="walkthrough">
<p>In this code:</p>
<ul>
<li>We use <code>summarise()</code> with <code>across()</code> to
calculate means for all columns at once</li>
<li>The <code>na.rm = TRUE</code> argument ensures we exclude missing
values from our calculations</li>
</ul>
</div>
<p>We calculate the difference in means between these two groups.</p>
<pre class="r"><code>diff_means &lt;- mean_rushed - mean_not_rushed</code></pre>
<p>The subtraction (<code>mean_rushed - mean_not_rushed</code>) gives a
new one‐row tibble showing how much more (or less) time “rushed”
individuals spend on each activity compared to “not rushed”
individuals.</p>
<p>Now, let’s see what we get up to this point.</p>
<pre><code>## [1] &quot;Mean values for respondents who feel rushed:&quot;</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durAlone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
203.5197
</td>
<td style="text-align:right;">
515.0236
</td>
<td style="text-align:right;">
585.7458
</td>
</tr>
</tbody>
</table>
</div>
<pre><code>## [1] &quot;Mean values for respondents who do not feel rushed:&quot;</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durAlone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
71.17137
</td>
<td style="text-align:right;">
542.4402
</td>
<td style="text-align:right;">
773.8862
</td>
</tr>
</tbody>
</table>
</div>
<pre><code>## [1] &quot;Difference between rushed and not rushed (rushed - not rushed):&quot;</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durAlone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
132.3483
</td>
<td style="text-align:right;">
-27.41654
</td>
<td style="text-align:right;">
-188.1403
</td>
</tr>
</tbody>
</table>
</div>
<div class="note">
<p>Positive values in the difference calculation indicate that rushed
individuals spend more time on that activity, while negative values
indicate they spend less time compared to those who don’t feel
rushed.</p>
</div>
<p>These results provide interesting insights into how feeling rushed
relates to time allocation patterns. For instance, we can observe
whether people who feel rushed actually spend more time working or less
time sleeping than those who don’t feel rushed, which might help explain
their perception of time pressure.</p>
</div>
<div id="before-the-next-exercise-recode-variables-and-save-dataset"
class="section level2">
<h2>Before the Next Exercise: Recode Variables and Save Dataset</h2>
<p>In the next exercise, we will compare the time pressure felt by
respondents based on whether they live in an <strong>urban</strong> or
<strong>rural</strong> area, as coded in the <code>popCenter</code>
column:</p>
<pre class="r"><code>js_data |&gt;
  count(popCenter)</code></pre>
<pre><code>## # A tibble: 3 × 2
##   popCenter     n
##       &lt;dbl&gt; &lt;int&gt;
## 1         1 13319
## 2         2  3551
## 3         3   520</code></pre>
<p>According to the data dictionary, these numeric codes mean:</p>
<table>
<thead>
<tr class="header">
<th>value</th>
<th>label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Larger urban population centres (CMA/CA)</td>
</tr>
<tr class="even">
<td>2</td>
<td>Rural areas and small population centres (non CMA/CA)</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Prince Edward Island</td>
</tr>
</tbody>
</table>
<p>We can use <strong>dplyr</strong>’s <code>mutate()</code> along with
<code>if_else()</code> to turn those numbers into descriptive
labels:</p>
<pre class="r"><code>js_data &lt;- js_data |&gt; mutate(
  popCenter=if_else(popCenter==1,&#39;urban&#39;,
                    if_else(popCenter==2,&#39;rural&#39;,&#39;PEI&#39;))
)</code></pre>
<div class="walkthrough">
<p>How it works:</p>
<ul>
<li><code>mutate()</code>: adds or modifies columns.</li>
<li><code>if_else(condition, true, false)</code>: a vectorized,
type-safe conditional.</li>
<li>Here, we nest two <code>if_else()</code> calls so that:
<ul>
<li><code>popCenter == 1</code> → “urban”</li>
<li><code>popCenter == 2</code> → “rural”</li>
<li>otherwise (code <code>3</code>) → “PEI”</li>
</ul></li>
</ul>
</div>
<p>Next, we’ll create a new flag called <code>isFeelRushed</code> to
mark whether each respondent feels rushed or not. This will be useful
for our upcoming data-visualization tutorial:</p>
<pre class="r"><code>js_data &lt;- js_data |&gt; mutate(
  isFeelRushed=if_else(feelRushed &lt;= 3,1,0)
)</code></pre>
<div class="walkthrough">
<p>In this code:</p>
<ul>
<li>We assign the result back into <code>js_data</code> so the new
column is saved.</li>
<li>The <code>if_else()</code> function creates a new binary variable:
<ul>
<li><code>isFeelRushed = 1</code> if <code>feelRushed</code> is
<code>1</code>, <code>2</code>, or <code>3</code> (i.e. the respondent
feels rushed)</li>
<li><code>isFeelRushed = 0</code> otherwise (i.e. not rushed)</li>
</ul></li>
</ul>
</div>
<p>Finally, save the recoded dataset so it’s ready for the next
steps:</p>
<pre class="r"><code>save(js_data, file = &quot;data/time_use_day3_2.RData&quot;)</code></pre>
<hr />
</div>
<div id="exercises-time-for-practice" class="section level2">
<h2>Exercises: Time for Practice!</h2>
<hr />
<div id="optional-exercise-1-using-in-operator" class="section level3">
<h3>Optional Exercise 1: Using <code>%in%</code> Operator</h3>
<p>In the previous sections, we learned that we can filter respondents
who feel rushed or not by either using a range comparison (e.g.,
<code>feelRushed &lt;= 3</code>) or by chaining multiple conditions with
logical operators (e.g.,
<code>feelRushed == 1 | feelRushed == 2 | feelRushed == 3</code>).</p>
<p>However, there’s also a third, more elegant approach: using the
<code>%in%</code> operator. This method is especially helpful when we
want to filter a dataset based on multiple specific values of a
variable, making our code shorter and easier to read.</p>
<hr />
<div class="question">
<p><strong>Example Scenario</strong></p>
<p>Remember the previous question where we’re analyzing survey data on
how frequently people feel rushed. The <code>feelRushed</code> variable
includes values from 1 (daily) to 6 (never). We want to group
respondents into two categories:</p>
<ul>
<li><strong>Rushed</strong>: those who feel rushed at least once a week
(<code>1</code>, <code>2</code>, <code>3</code>)</li>
<li><strong>Not Rushed</strong>: those who feel rushed less often
(<code>4</code>, <code>5</code>, <code>6</code>)</li>
</ul>
<hr />
<p><strong>Task Instructions</strong></p>
<ol style="list-style-type: decimal">
<li>Define the sets of values that represent each group.</li>
<li>Use the <code>%in%</code> operator inside <code>filter()</code> to
create subsets.</li>
<li>Display the first few rows of each subset to verify
correctness.</li>
<li>Count the number of rows in each group to compare sizes.</li>
</ol>
<hr />
<p><strong>Steps 1 &amp; 2: Define the sets and use <code>%in%</code>
inside <code>filter()</code></strong></p>
<pre class="r fold-hide"><code># Define group levels
rushed_levels &lt;- c(1, 2, 3)
not_rushed_levels &lt;- c(4, 5, 6)

# Filter using %in%
js_data |&gt; 
  filter(feelRushed %in% rushed_levels)

js_data |&gt; 
  filter(feelRushed %in% not_rushed_levels)</code></pre>
<p><strong>Step 3a: View the first few rows of
<code>rushed_levels</code></strong></p>
<pre class="r fold-hide"><code>js_data |&gt; 
  filter(feelRushed %in% rushed_levels) |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
<th style="text-align:right;">
isFeelRushed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Step 3b: View the first few rows of
<code>not_rushed_levels</code></strong></p>
<pre class="r fold-hide"><code>js_data |&gt; 
  filter(feelRushed %in% not_rushed_levels) |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
<th style="text-align:right;">
isFeelRushed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10006
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
635
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
650
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10007
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
440
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
1200
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10009
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1060
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Widowed
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10013
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
200
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10016
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10021
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NS
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Step 4: Count rows</strong></p>
<pre class="r fold-hide"><code>rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed %in% rushed_levels) |&gt; 
  nrow()

not_rushed_rows &lt;- js_data |&gt; 
  filter(feelRushed %in% not_rushed_levels) |&gt; 
  nrow()

print(paste(&quot;The number of rows in rushed is:&quot;, rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in rushed is: 12689&quot;</code></pre>
<pre class="r fold-hide"><code>print(paste(&quot;The number of rows in not rushed is:&quot;, not_rushed_rows))</code></pre>
<pre><code>## [1] &quot;The number of rows in not rushed is: 4639&quot;</code></pre>
<hr />
<p><strong>Summary</strong></p>
<p>This example shows how the <code>%in%</code> operator simplifies
filtering when working with categorical variables. It avoids the need to
write multiple <code>==</code> and <code>|</code> conditions, making our
code cleaner and easier to read.</p>
</div>
<hr />
</div>
<div id="optional-exercise-2-urban-vs-rural-time-pressure-analysis"
class="section level3">
<h3>Optional Exercise 2: Urban vs Rural Time Pressure Analysis</h3>
<hr />
<div class="walkthrough">
<p>Let’s use our new filtering and selecting skills to explore how
people in urban and rural areas differ in terms of time pressure, based
on their reported extra time.</p>
<p><strong>Task Instructions</strong></p>
<ol style="list-style-type: decimal">
<li>Explore the <code>popCenter</code> and <code>extraTime</code>
columns to understand the variable types and possible values.</li>
<li>Filter the dataset into two groups: <code>urban</code> and
<code>rural</code>.</li>
<li>Select the relevant variables: <code>popCenter</code>,
<code>extraTime</code>, <code>durWork</code>, and
<code>durSleep</code>.</li>
<li>Calculate and compare the average <code>extraTime</code> between the
two groups.</li>
</ol>
<hr />
<p><strong>Step 1: Explore the Data</strong></p>
<pre class="r fold-hide"><code>js_data |&gt; 
  distinct(popCenter)</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
popCenter
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
urban
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
</tr>
<tr>
<td style="text-align:left;">
PEI
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r fold-hide"><code>js_data |&gt; 
  count(extraTime) |&gt; 
  arrange(desc(n)) |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6954
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2891
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2662
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2067
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1427
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1313
</td>
</tr>
</tbody>
</table>
</div>
<hr />
<p><strong>Step 2: Filter Urban and Rural Populations</strong></p>
<p>To filter the urban population, we use the <code>filter()</code>
function to keep only rows where <code>popCenter</code> is equal to
<code>"urban"</code>. Then, we use <code>head()</code> to display the
first few rows of the resulting dataframe:</p>
<pre class="r fold-hide"><code>js_data |&gt; 
  filter(popCenter == &#39;urban&#39;) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
<th style="text-align:right;">
isFeelRushed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
Trade certificate or diploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10001
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
420
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10002
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
570
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
630
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
SK
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate or dimploma below the bachelor’s level
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10003
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
875
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Divorced
</td>
<td style="text-align:left;">
College, CEGEP, or other non-university certificate or dimploma
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10004
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
815
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10005
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Single, never married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<p>Similarly, we filter the rural population, then preview the first few
rows of the resulting dataframe:</p>
<pre class="r fold-hide"><code>js_data |&gt; 
  filter(popCenter == &#39;rural&#39;) |&gt;
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
ageGrp
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:right;">
maritalStat
</th>
<th style="text-align:right;">
province
</th>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
eduLevel
</th>
<th style="text-align:right;">
feelRushed
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durSleep
</th>
<th style="text-align:right;">
durMealPrep
</th>
<th style="text-align:right;">
durEating
</th>
<th style="text-align:right;">
durAlone
</th>
<th style="text-align:right;">
durDriving
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durShoolSite
</th>
<th style="text-align:right;">
durSchoolOnline
</th>
<th style="text-align:right;">
durStudy
</th>
<th style="text-align:right;">
mainStudy
</th>
<th style="text-align:right;">
mainJobHunting
</th>
<th style="text-align:right;">
mainWork
</th>
<th style="text-align:right;">
worked12m
</th>
<th style="text-align:right;">
workedWeek
</th>
<th style="text-align:right;">
enrollStat
</th>
<th style="text-align:right;">
dailyTexts
</th>
<th style="text-align:right;">
timeSlowDown
</th>
<th style="text-align:right;">
timeWorkaholic
</th>
<th style="text-align:right;">
timeNotFamFriends
</th>
<th style="text-align:right;">
timeWantAlone
</th>
<th style="text-align:left;">
province_fact
</th>
<th style="text-align:left;">
maritalStat_fact
</th>
<th style="text-align:left;">
eduLevel_fact
</th>
<th style="text-align:right;">
isFeelRushed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10008
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
410
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10012
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
390
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ON
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10016
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
660
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
MB
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
University certificate, diploma, degree above the BA level
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10018
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
510
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
740
</td>
<td style="text-align:right;">
330
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
NS
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Less than high school dimploma or its equivalent
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10030
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
600
</td>
<td style="text-align:right;">
135
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1005
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
NL
</td>
<td style="text-align:left;">
Married
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10036
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
720
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
Living common-law
</td>
<td style="text-align:left;">
Bachelor’s degree
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<hr />
<p><strong>Step 3: Select Relevant Variables</strong></p>
<p>We select the following variables:</p>
<ul>
<li><code>popCenter</code>: to indicate group identity (urban
vs. rural)</li>
<li><code>extraTime</code>: to measure perceived time availability</li>
<li><code>durWork</code>: to examine work duration</li>
<li><code>durSleep</code>: to evaluate sleep patterns</li>
</ul>
<p>We start by selecting the relevant columns from the filtered urban
dataframe:</p>
<pre class="r fold-hide"><code>urban_selected &lt;- js_data |&gt; 
  filter(popCenter == &#39;urban&#39;) |&gt; 
  select(popCenter, extraTime, durWork, durSleep)

urban_selected |&gt; 
  head()</code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
510
</td>
</tr>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
420
</td>
</tr>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
570
</td>
</tr>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
510
</td>
</tr>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
525
</td>
</tr>
<tr>
<td style="text-align:left;">
urban
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
530
</td>
<td style="text-align:right;">
435
</td>
</tr>
</tbody>
</table>
</div>
<p>Similarly, we select columns from the filtered rural dataframe:</p>
<pre class="r fold-hide"><code>rural_selected &lt;- js_data |&gt; 
  filter(popCenter == &#39;rural&#39;) |&gt; 
  select(popCenter, extraTime, durWork, durSleep) </code></pre>
<div
style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
popCenter
</th>
<th style="text-align:right;">
extraTime
</th>
<th style="text-align:right;">
durWork
</th>
<th style="text-align:right;">
durSleep
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
410
</td>
<td style="text-align:right;">
525
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:right;">
390
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
660
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
510
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
600
</td>
</tr>
<tr>
<td style="text-align:left;">
rural
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
720
</td>
<td style="text-align:right;">
435
</td>
</tr>
</tbody>
</table>
</div>
<hr />
<p><strong>Step 4: Calculate and Compare Mean Extra Time</strong></p>
<p>To calculate the average amount of extra time reported by urban and
rural respondents, we use the <code>summarise()</code> function:</p>
<pre class="r fold-hide"><code>mean_urban &lt;- urban_selected |&gt; 
  summarise(avg_extra_time = mean(extraTime, na.rm = TRUE))
mean_rural &lt;- rural_selected |&gt; 
  summarise(avg_extra_time = mean(extraTime, na.rm = TRUE))</code></pre>
<pre><code>## [1] &quot;Mean extra time for Urban respondents:&quot;</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
avg_extra_time
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
4.166139
</td>
</tr>
</tbody>
</table>
<pre><code>## [1] &quot;Mean extra time for Rural respondents:&quot;</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
avg_extra_time
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
4.255018
</td>
</tr>
</tbody>
</table>
<p>It seems that, on average, respondents residing in rural areas have
more <code>extraTime</code>. Higher values in <code>extraTime</code>
indicate greater availability of free time.</p>
</div>
<hr />
</div>
</div>
<div id="takeaway" class="section level2">
<h2>Takeaway</h2>
<p>In this session, we learned how to filter rows and select specific
columns to create a smaller, cleaner dataset that helps us answer our
guiding question more efficiently. Using functions from the
<code>dplyr</code> package like <code>filter()</code>,
<code>select()</code>, and <code>mutate()</code>, we practiced how
to:</p>
<ul>
<li>Filter rows based on conditions using comparison and logical
operators<br />
</li>
<li>Select only the variables we care about using <code>select()</code>
and helper functions like <code>starts_with()</code><br />
</li>
<li>Use <code>summarise()</code> and <code>across()</code> to calculate
mean values for entire groups<br />
</li>
<li>Recode variables like <code>popCenter</code> and create new flags
like <code>isFeelRushed</code> with <code>mutate()</code></li>
</ul>
<p>These techniques help us zoom in on the parts of the data that matter
most and prepare for deeper exploration in the next sessions.</p>
<hr />
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiRGF5IDMgLSBQYXJ0IDIiCnBhZ2V0aXRsZTogIkRhdGEgRmlsdGVyaW5nIGFuZCBTZWxlY3Rpb24gVGVjaG5pcXVlcyIKb3V0cHV0OgogIGh0bWxfZG9jdW1lbnQ6CiAgICBjb2RlX2ZvbGRpbmc6IHNob3cKICAgIGNvZGVfZG93bmxvYWQ6IHRydWUKICAgIGluY2x1ZGVzOgogICAgICBhZnRlcl9ib2R5OiBmb290ZXIuaHRtbAogICAgdG9jOiB0cnVlCiAgICB0b2NfZGVwdGg6IDMKICAgIHRvY19mbG9hdDoKICAgICAgY29sbGFwc2VkOiBmYWxzZQogICAgICBzbW9vdGhfc2Nyb2xsOiBmYWxzZQotLS0KCiMjIE92ZXJ2aWV3CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiFbXShpbWFnZXMvMy1BQ1QtMy1PdmVydmlldy5wbmcpCgojIyBJbnRyb2R1Y3Rpb24KCjxoNCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+Cgo8c3Ryb25nPlN1YnNldHRpbmcgZGF0YSBpcyBhbiBlc3NlbnRpYWwgcGFydCBvZiB0aGUgPGVtPnRyYW5zZm9ybTwvZW0+IHN0YWdlIGluIHRoZSBkYXRhIHNjaWVuY2Ugd29ya2Zsb3cuIEl0IGludm9sdmVzIGV4dHJhY3RpbmcgYSBwb3J0aW9uIG9mIHRoZSBkYXRhc2V0IGJhc2VkIG9uIHNwZWNpZmljIGNvbmRpdGlvbnMuPC9zdHJvbmc+Cgo8L2g0PgoKSW4gdGhpcyBzaG9ydCB0dXRvcmlhbCwgd2Ugd2lsbCBsZWFybjoKCjEuICBXaGF0IHN1YnNldHRpbmcgbWVhbnMgYW5kIHdoeSBpdCBpcyBjcnVjaWFsCjIuICBIb3cgdG8gcGVyZm9ybSBzdWJzZXR0aW5nIHVzaW5nIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyBhbmQgdGhlIGRwbHlyIGZ1bmN0aW9ucyBgZmlsdGVyKClgIGFuZCBgc2VsZWN0KClgCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCjxoNCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+CgpXaHkgaXMgc3Vic2V0dGluZyBhIGRhdGFzZXQgaW1wb3J0YW50PwoKPC9oND4KCjo6OiBub3RlCk1vc3QgcmVhbC13b3JsZCBkYXRhc2V0cyBhcmUgbGFyZ2UgYW5kIGNvbXBsZXgsIHdpdGggbWFueSB2YXJpYWJsZXMgYW5kIHRob3VzYW5kcyBvZiByZWNvcmRzLgo6OjoKCk1vc3QgcmVhbC13b3JsZCBkYXRhc2V0cyBhcmUgbGFyZ2UgYW5kIGNvbXBsZXgsIHdpdGggbWFueSB2YXJpYWJsZXMgYW5kIHRob3VzYW5kcyBvZiByZWNvcmRzLiBBbmFseXppbmcgYWxsIG9mIGl0IGF0IG9uY2UgY2FuIGludHJvZHVjZSBub2lzZSwgc2xvdyBkb3duIGNvbXB1dGF0aW9uLCBhbmQgbWFrZSBpdCBoYXJkZXIgdG8gZGV0ZWN0IG1lYW5pbmdmdWwgcGF0dGVybnMuIEJ5IGZpbHRlcmluZyByb3dzIGFuZCBzZWxlY3Rpbmcgc3BlY2lmaWMgY29sdW1ucywgd2UgcmVkdWNlIHRoaXMgY29tcGxleGl0eSwgaW1wcm92ZSBjbGFyaXR5LCBhbmQgY2FuIG1vcmUgZWZmaWNpZW50bHkgdGVzdCBoeXBvdGhlc2VzIG9yIGJ1aWxkIG1vZGVscy4gU3Vic2V0dGluZyBhbHNvIHBsYXlzIGEga2V5IHJvbGUgaW4gZW5zdXJpbmcgZGF0YSBxdWFsaXR5LCBhbGxvd2luZyB1cyB0byByZW1vdmUgaXJyZWxldmFudCBvciBwcm9ibGVtYXRpYyBlbnRyaWVzIGxpa2UgbWlzc2luZyB2YWx1ZXMsIG91dGxpZXJzLCBvciBjYXRlZ29yaWVzIG91dHNpZGUgdGhlIHNjb3BlIG9mIG91ciBhbmFseXNpcy4KCjo6OiBub3RlCkZpbHRlcmluZyByb3dzIGFuZCBzZWxlY3Rpbmcgc3BlY2lmaWMgY29sdW1ucyBoZWxwcyB1czoKCi0gICBSZWR1Y2UgZGF0YXNldCBjb21wbGV4aXR5IGFuZCBpbXByb3ZlIGNsYXJpdHksIG1ha2luZyBpdCBlYXNpZXIgdG8gdGVzdCBoeXBvdGhlc2VzIGVmZmljaWVudGx5Ci0gICBSZW1vdmUgaXJyZWxldmFudCBvciBwcm9ibGVtYXRpYyBlbnRyaWVzIHN1Y2ggYXMgbWlzc2luZyB2YWx1ZXMsIG91dGxpZXJzLCBvciB1bnVzZWQgY2F0ZWdvcmllcywgaW1wcm92aW5nIG92ZXJhbGwgZGF0YSBxdWFsaXR5Cjo6OgoKOjo6IGZsYWcKVGhlIG9yaWdpbmFsIGRhdGFzZXQgaXMgdmVyeSBsYXJnZS0tLWl0IGluY2x1ZGVzIDg0OCB2YXJpYWJsZXMgYW5kIDE3LDAwMCsgb2JzZXJ2YXRpb25zLgo6OjoKClRoZSBkYXRhc2V0IHdlIGhhdmUgdXNlZCBpbiBwcmV2aW91cyBzZXNzaW9ucyBvcmlnaW5hdGVkIGZyb20gdGhlIFtHZW5lcmFsIFNvY2lhbCBTdXJ2ZXksIEN5Y2xlIDI5ICgyMDE1KV0gKGh0dHBzOi8vb2Rlc2kuY2EvZW4vZGV0YWlscz9pZD0vb2Rlc2kvZG9pX18xMC01NjgzX1NQM19SRFMwQ0sueG1sKSwgZnJvbSB0aGUgU29jaWFsIGFuZCBBYm9yaWdpbmFsIFN0YXRpc3RpY3MgRGl2aXNpb24gYXQgU3RhdGlzdGljcyBDYW5hZGEuIFRoaXMgc3VydmV5IHRyYWNrcyBob3cgQ2FuYWRpYW5zIHNwZW5kIGFuZCBtYW5hZ2UgdGhlaXIgdGltZSwgaGVscGluZyB1cyB1bmRlcnN0YW5kIHBhdHRlcm5zIHRpZWQgdG8gd2VsbC1iZWluZyBhbmQgc3RyZXNzLiBIb3dldmVyLCB0aGUgb3JpZ2luYWwgZGF0YXNldCBpcyB2ZXJ5IGxhcmdlLS0taXQgaW5jbHVkZXMgb3ZlciA4NDggdmFyaWFibGVzIGFuZCBtb3JlIHRoYW4gMTcsMDAwIG9ic2VydmF0aW9ucy4KCkZvciB0aGUgcHVycG9zZXMgb2YgdGhpcyB0dXRvcmlhbCwgd2UgYXJlIG5vdCBpbnRlcmVzdGVkIGluIGV2ZXJ5IHZhcmlhYmxlLiBJbnN0ZWFkLCB3ZSBhcmUgd29ya2luZyB3aXRoIGEgKipzdWJzZXQqKiBvZiB0aGlzIGRhdGFzZXQ6IDI5IHZhcmlhYmxlcyBmb2N1c2VkIG1haW5seSBvbiB0aW1lIGR1cmF0aW9ucyBhbmQga2V5IGRlbW9ncmFwaGljIGNoYXJhY3RlcmlzdGljcy4gVGhpcyBtYWtlcyB0aGUgZGF0YSBtb3JlIG1hbmFnZWFibGUgYW5kIHJlbGV2YW50IGZvciBvdXIgZXhwbG9yYXRpb24gb2YgdGltZSB1c2UgYW5kIHBlcmNlcHRpb25zIG9mIHRpbWUgcHJlc3N1cmUuCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCjxoNCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+CgpGcmFtaW5nIHRoZSBHdWlkaW5nIFF1ZXN0aW9uOiBXaG8gRmVlbHMgUnVzaGVkPwoKPC9oND4KCjwhLS0gIyMjIEZyYW1pbmcgdGhlIEd1aWRpbmcgUXVlc3Rpb246IFdobyBGZWVscyBSdXNoZWQ/IC0tPgoKTGV0J3MgcmV0dXJuIHRvIHRoZSB0aW1lIHVzYWdlIGRhdGFzZXQuIEluIHRoaXMgc2VjdGlvbiwgc3VwcG9zZSB3ZSdyZSBpbnRlcmVzdGVkIGluIHVuZGVyc3RhbmRpbmcgaG93IHBlb3BsZSB3aG8gZmVlbCBydXNoZWQgc3BlbmQgdGhlaXIgdGltZSBkaWZmZXJlbnRseSBmcm9tIHRob3NlIHdobyBkb24ndC4gVG8gYW5zd2VyIHRoaXMgcXVlc3Rpb24sIHdlIGRvbid0IG5lZWQgZXZlcnkgc2luZ2xlIHJvdyBvciBjb2x1bW4sIGFzIHdvcmtpbmcgd2l0aCB0aGUgZGF0YSBpbiBpdHMgb3JpZ2luYWwgZm9ybWF0IHdvdWxkIGJlIHVubmVjZXNzYXJpbHkgY29tcGxleC4gSW5zdGVhZCwgd2UgbmVlZCB0byAiZ2V0IGluc2lkZSIgb3VyIGRhdGEgYnkgc3Vic2V0dGluZzogZmlsdGVyaW5nIHRoZSByb3dzIGFuZCBzZWxlY3RpbmcgdGhlIGNvbHVtbnMgdGhhdCBtYXR0ZXIuCgpXZSB3aWxsIGV4cGxvcmUgb3VyIGRhdGFzZXQgdGhyb3VnaCBvbmUgZ3VpZGluZyBxdWVzdGlvbjoKCioqSG93IGRvIHBlb3BsZSB3aG8gZmVlbCBydXNoZWQgc3BlbmQgdGhlaXIgdGltZSBkaWZmZXJlbnRseSBmcm9tIHRob3NlIHdobyBkb24ndD8qKgoKV2UnbGwgZm9jdXMgb24gdGhlIHJlbGV2YW50IHJvd3MgYW5kIGNvbHVtbnMgdGhhdCBhbnN3ZXIgdGhpcyBxdWVzdGlvbi4KCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMgU3RlcCAwOiBTZXR1cCBhbmQgTG9hZCB0aGUgRGF0YQoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGVjaG8gPSBUUlVFLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSkKYGBgCgo8aDQgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPgoKTG9hZCBhbmQgVW5kZXJzdGFuZCB0aGUgRGF0YXNldAoKPC9oND4KCjwhLS0gIyMjIExvYWQgYW5kIFVuZGVyc3RhbmQgdGhlIERhdGFzZXQgIC0tPgoKRmlyc3QsIHdlIG5lZWQgdG8gbG9hZCB0aGUgbmVjZXNzYXJ5IGxpYnJhcmllcyBmb3IgdGhpcyBzZXNzaW9uLgoKYGBge3IsIGRhdGEtaXNvbGF0aW9uLTE1LCByZXN1bHRzID0gJ2hpZGUnLCBlY2hvPUZBTFNFfQpsaWJyYXJ5KGthYmxlRXh0cmEpCmBgYAoKYGBge3IsIGxpYnJhcmllc30KbGlicmFyeShkcGx5cikKYGBgCgpJbiBvdXIgc3Vic2VxdWVudCB0YXNrcywgdGhlIGBkcGx5cmAgcGFja2FnZSB3aWxsIGJlIGVzc2VudGlhbCBmb3Igc3Vic2V0dGluZyBvcGVyYXRpb25zIHN1Y2ggYXMgZmlsdGVyaW5nIHJvd3MgYW5kIHNlbGVjdGluZyBjb2x1bW5zLiBXZSBjYW4gZWl0aGVyIGNvbnRpbnVlIHVzaW5nIHRoZSBganNfZGF0YWAgb2JqZWN0IGZyb20gdGhlIHByZXZpb3VzIHNlY3Rpb24gb3IgbG9hZCB0aGUgYHRpbWV1c2VfZGF5M18xLlJkYXRhYCBmaWxlIGZyb20gdGhlIGRhdGEgZm9sZGVyLgoKYGBge3J9CmxvYWQoImRhdGEvdGltZXVzZV9jbGVhbi1jb2xzX3JlY29kZWQuUkRhdGEiKQpgYGAKCk5vdywgbGV0J3MgYWdhaW4gZXhhbWluZSBvdXIgZGF0YXNldCBzdHJ1Y3R1cmUgYnkgZGlzcGxheWluZyB0aGUgZmlyc3QgZmV3IHJvd3MgYnkgdXNpbmcgYGhlYWQoKWAgZnVuY3Rpb24uCgpgYGB7ciwgZGF0YS1pc29sYXRpb24tMSwgcmVzdWx0cyA9ICdoaWRlJ30KanNfZGF0YSB8PgogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpqc19kYXRhIHw+CiAgaGVhZCgpIHw+CiAga2JsKCkgfD4KICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PgogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCmBgYAoKQXMgd2UgY2FuIHNlZSwgdGhlcmUgYXJlIDMwIGNvbHVtbnMgaW4gdGhlIGRhdGFzZXQsIHdoaWNoIGlzIGEgbG90IHRvIHdvcmsgd2l0aC4gRm9yIG5vdywgd2UgY2FuIGZvY3VzIG9uIHRoZSBmb2xsb3dpbmcga2V5IGNvbHVtbnM6CgotICAgYGlkYDogUmVjb3JkIGlkZW50aWZpY2F0aW9uCi0gICBgYWdlR3JwYDogQWdlIGdyb3VwIG9mIHJlc3BvbmRlbnQgKGdyb3VwcyBvZiAxMCkKLSAgIGBzZXhgOiBTZXggb2YgcmVzcG9uZGVudAotICAgYG1hcml0YWxTdGF0YDogTWFyaXRhbCBzdGF0dXMgb2YgdGhlIHJlc3BvbmRlbnQKLSAgIGBwcm92aW5jZWA6IFByb3ZpbmNlIG9mIHJlc2lkZW5jZQotICAgYHBvcENlbnRlcmA6IFBvcHVsYXRpb24gY2VudHJlIGluZGljYXRvcgotICAgYGVkdUxldmVsYDogRWR1Y2F0aW9uYWwgYXR0YWlubWVudCAoaGlnaGVzdCBkZWdyZWUpCi0gICBgZmVlbFJ1c2hlZGA6IEdlbmVyYWwgdGltZSB1c2UgLS0gRmVlbCBydXNoZWQKLSAgIGBleHRyYVRpbWVgOiBHZW5lcmFsIHRpbWUgdXNlIC0tIEV4dHJhIHRpbWUKLSAgIGBkdXJTbGVlcGA6IER1cmF0aW9uIC0tIFNsZWVwaW5nLCByZXN0aW5nLCByZWxheGluZywgc2ljayBpbiBiZWQKLSAgIGBkdXJXb3JrYDogRHVyYXRpb24gLS0gUGFpZCB3b3JrCi0gICBgdGltZVdvcmthaG9saWNgOiBQZXJjZXB0aW9ucyBvZiB0aW1lIC0tIFdvcmthaG9saWMKLSAgIGB0aW1lV2FudEFsb25lYDogUGVyY2VwdGlvbnMgb2YgdGltZSAtLSBXb3VsZCBsaWtlIG1vcmUgdGltZSBhbG9uZQoKVGhlc2UgY29sdW1ucyBwcm92aWRlIGluZm9ybWF0aW9uIG9uIGRlbW9ncmFwaGljcywgdGltZSB1c2FnZSwgYW5kIHRpbWUgcGVyY2VwdGlvbnMuIFdlIGNhbiB1c2UgdGhlbSB0byBleHBsb3JlIHBhdHRlcm5zIGluIHdvcmstbGlmZSBiYWxhbmNlLCBlZHVjYXRpb24sIGFuZCBzb2NpYWwgdGltZS4KCk5vdyB0aGF0IHdlIHVuZGVyc3RhbmQgb3VyIGRhdGFzZXQgc3RydWN0dXJlLCBsZXQncyBtb3ZlIG9uIHRvIGxlYXJuaW5nIGhvdyB0byBmaWx0ZXIgYW5kIG1hbmlwdWxhdGUgdGhpcyBkYXRhIGVmZmVjdGl2ZWx5IHVzaW5nIEJvb2xlYW4gb3BlcmF0b3JzIGluIGBkcGx5cmAuCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMjIFN0ZXAgMTogTGVhcm5pbmcgQWJvdXQgRmlsdGVyaW5nCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCjxoNCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+CgpDb25kaXRpb25hbCBGaWx0ZXJpbmcgd2l0aCBCb29sZWFuIE9wZXJhdG9ycyB1c2luZyA8c3Ryb25nPmRwbHlyPC9zdHJvbmc+Cgo8L2g0PgoKPCEtLSAjIyMgQ29uZGl0aW9uYWwgRmlsdGVyaW5nIHdpdGggQm9vbGVhbiBPcGVyYXRvcnMgdXNpbmcgKipkcGx5cioqIC0tPgoKYGRwbHlyYCBpcyBhIHBvd2VyZnVsIHBhY2thZ2UgdGhhdCBsZXRzIHVzIGV4dHJhY3QgYW5kIHRyYW5zZm9ybSBkYXRhIHdpdGggYSBjbGVhciwgcmVhZGFibGUgc3ludGF4LiBJbiBgZHBseXJgLCB3ZSB1c2UgZnVuY3Rpb25zIGxpa2UgYGZpbHRlcigpYCwgYHNlbGVjdCgpYCwgYW5kIGBtdXRhdGUoKWAgdG8gd29yayB3aXRoIG91ciBkYXRhLiBCb29sZWFuIG9wZXJhdG9ycyAoYD09YCwgYDxgLCBgPmAsIGA8PWAsIGA+PWAsIGFuZCBgIT1gKSBhcmUgdXNlZCB3aXRoaW4gdGhlc2UgZnVuY3Rpb25zIHRvIHRlc3QgY29uZGl0aW9ucywgYW5kIHdlIGNhbiBjb21iaW5lIGNvbmRpdGlvbnMgd2l0aCBgJmAgKGFuZCkgb3IgYHxgIChvcikuCgpMZXQncyBzdGFydCBieSB1bmRlcnN0YW5kaW5nIHRoZSBiYXNpYyBjb21wYXJpc29uIG9wZXJhdG9ycyB0aGF0IHdpbGwgaGVscCB1cyBjcmVhdGUgZmlsdGVyaW5nIGNvbmRpdGlvbnMuCgojIyMjICoqQ29tcGFyaXNvbiBPcGVyYXRvcnMqKgoKQ29tcGFyaXNvbiBvcGVyYXRvcnMgYWxsb3cgdXMgdG8gY2hlY2sgY29uZGl0aW9ucyB3aXRoaW4gb3VyIGRhdGFzZXQuIFRoZXNlIHJldHVybiBgVFJVRWAgb3IgYEZBTFNFYCBiYXNlZCBvbiB3aGV0aGVyIHRoZSBjb25kaXRpb24gaXMgbWV0LgoKfCBPcGVyYXRvciB8IE1lYW5pbmcgICAgICAgICAgICAgICAgICB8IEV4YW1wbGUgIHwgUmVzdWx0IHwKfC0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLXwtLS0tLS0tLXwKfCBgPT1gICAgICB8IEVxdWFsIHRvICAgICAgICAgICAgICAgICB8IGA1ID09IDVgIHwgYFRSVUVgIHwKfCBgIT1gICAgICB8IE5vdCBlcXVhbCB0byAgICAgICAgICAgICB8IGA1ICE9IDNgIHwgYFRSVUVgIHwKfCBgPGAgICAgICB8IExlc3MgdGhhbiAgICAgICAgICAgICAgICB8IGAzIDwgNWAgIHwgYFRSVUVgIHwKfCBgPmAgICAgICB8IEdyZWF0ZXIgdGhhbiAgICAgICAgICAgICB8IGA1ID4gM2AgIHwgYFRSVUVgIHwKfCBgPD1gICAgICB8IExlc3MgdGhhbiBvciBlcXVhbCB0byAgICB8IGAzIDw9IDNgIHwgYFRSVUVgIHwKfCBgPj1gICAgICB8IEdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB8IGA1ID49IDNgIHwgYFRSVUVgIHwKCk9uY2Ugd2UgdW5kZXJzdGFuZCB0aGVzZSBiYXNpYyBjb21wYXJpc29uIG9wZXJhdG9ycywgd2UgY2FuIGNvbWJpbmUgdGhlbSB1c2luZyBsb2dpY2FsIG9wZXJhdG9ycyB0byBjcmVhdGUgbW9yZSBjb21wbGV4IGZpbHRlcmluZyBjb25kaXRpb25zLgoKIyMjIyAqKkxvZ2ljYWwgT3BlcmF0b3JzKioKCkxvZ2ljYWwgb3BlcmF0b3JzIGFsbG93IHVzIHRvIGZpbHRlciBkYXRhIGJhc2VkIG9uIG11bHRpcGxlIGNvbmRpdGlvbnMuCgp8IE9wZXJhdG9yIHwgTWVhbmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRXhhbXBsZSAgICAgICAgICAgICB8IFJlc3VsdCAgfAp8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwKfCBgJmAgICAgICB8IExvZ2ljYWwgQU5EIChCb3RoIGNvbmRpdGlvbnMgbXVzdCBiZSBUUlVFKSAgICAgICB8IGAoNSA+IDMpICYgKDQgPCA2KWAgfCBgVFJVRWAgIHwKfCBgfGAgICAgICB8IExvZ2ljYWwgT1IgKEF0IGxlYXN0IG9uZSBjb25kaXRpb24gbXVzdCBiZSBUUlVFKSB8IGAoNSA+IDMpIHwgKDQgPiA2KWAgfCBgVFJVRWAgIHwKfCBgIWAgICAgICB8IExvZ2ljYWwgTk9UIChSZXZlcnNlcyBUUlVFL0ZBTFNFKSAgICAgICAgICAgICAgICB8IGAhKDUgPiAzKWAgICAgICAgICAgfCBgRkFMU0VgIHwKCkxldCdzIHRyeSB1c2luZyB0aGVzZSBsb2dpY2FsIG9wZXJhdG9ycyB0byBmaWx0ZXIgdGhlIHJvd3MgaW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLgoKV2Ugd2FudCB0byB1bmRlcnN0YW5kIHdoZXRoZXIgZmVlbGluZyBydXNoZWQgbWlnaHQgcmVsYXRlIHRvIGhvdyBtdWNoIHRpbWUgaXMgc3BlbnQgb24gd29yaywgc2xlZXAsIG9yIGFsb25lIHRpbWUuIFRoZXJlZm9yZSwgdGhlIGNvbHVtbnMgb2YgaW50ZXJlc3QgYXJlIGBmZWVsUnVzaGVkYCwgYGR1clNsZWVwYCwgYGR1cldvcmtgLCBhbmQgYGR1ckFsb25lYC4gRmlyc3QsIGxldCdzIGV4cGxvcmUgdGhlIHZhbHVlcyBpbiB0aGVzZSBjb2x1bW5zIHVzaW5nIGBkcGx5cmAuCgpMZXQncyBsb29rIGF0IHRoZSB1bmlxdWUgdmFsdWVzIGluIHRoZSBgZmVlbFJ1c2hlZGAgY29sdW1uIHRvIHVuZGVyc3RhbmQgd2hhdCBjYXRlZ29yaWVzIGV4aXN0IGluIG91ciBkYXRhIGJlZm9yZSB3ZSBzdGFydCBmaWx0ZXJpbmcgYmFzZWQgb24gdGhlc2UgdmFsdWVzLgoKYGBge3J9CmpzX2RhdGEgfD4gCiAgZGlzdGluY3QoZmVlbFJ1c2hlZCkKYGBgCgpTaW5jZSBvdXIgZHVyYXRpb24gY29sdW1ucyAoYGR1clNsZWVwYCwgYGR1cldvcmtgLCBhbmQgYGR1ckFsb25lYCkgYXJlIGNvbnRpbnVvdXMgbnVtZXJpY2FsIHZhcmlhYmxlcyByYXRoZXIgdGhhbiBjYXRlZ29yaWNhbCwgaXQncyBtb3JlIGluZm9ybWF0aXZlIHRvIGV4YW1pbmUgdGhlaXIgZGlzdHJpYnV0aW9ucyByYXRoZXIgdGhhbiBqdXN0IHRoZWlyIHVuaXF1ZSB2YWx1ZXMuIExvb2tpbmcgYXQgdGhlIGRpc3RyaWJ1dGlvbiBoZWxwcyB1cyB1bmRlcnN0YW5kIHdoaWNoIHZhbHVlcyBhcmUgY29tbW9uLCBpZGVudGlmeSBwYXR0ZXJucywgYW5kIHNwb3QgcG90ZW50aWFsIG91dGxpZXJzOgoKYGBge3J9CmpzX2RhdGEgfD4gCiAgY291bnQoZHVyU2xlZXApIHw+IAogIGFycmFuZ2UoZGVzYyhuKSkgfD4gCiAgaGVhZCgxMCkgCmBgYAoKYGBge3J9CmpzX2RhdGEgfD4gCiAgY291bnQoZHVyV29yaykgfD4gCiAgYXJyYW5nZShkZXNjKG4pKSB8PiAKICBoZWFkKDEwKQpgYGAKCmBgYHtyfQpqc19kYXRhIHw+IAogIGNvdW50KGR1ckFsb25lKSB8PiAKICBhcnJhbmdlKGRlc2MobikpIHw+IAogIGhlYWQoMTApIApgYGAKCjo6OiB3YWxrdGhyb3VnaApUaGVzZSBjb21tYW5kcyB3b3JrIHRvZ2V0aGVyIHRvIHNob3cgdGhlIG1vc3QgY29tbW9uIHRpbWUgcGF0dGVybnM6CgotICAgYGNvdW50KClgIHRhbGxpZXMgZWFjaCBkdXJhdGlvbiB2YWx1ZSwKLSAgIGBhcnJhbmdlKGRlc2MobikpYCBzb3J0cyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IGZyZXF1ZW5jeSwKLSAgIGBoZWFkKDEwKWAga2VlcHMgb25seSB0aGUgdG9wIDEwIHJlc3VsdHMKClRoaXMgcXVpY2sgb3ZlcnZpZXcgaGVscHMgdXMgdW5kZXJzdGFuZCB0eXBpY2FsIHRpbWUgYWxsb2NhdGlvbiBwYXR0ZXJucyBmb3Igc2xlZXAsIHdvcmssIGFuZCBiZWluZyBhbG9uZS4KOjo6CgpJdCBhcHBlYXJzIHRoYXQgYWxsIHRoZSBjb2x1bW5zIGNvbnRhaW4gbnVtZXJpYyB2YWx1ZXMuIEhvd2V2ZXIsIGFzIHdlIGxvb2sgYXQgdGhlIGRhdGEgZGljdGlvbmFyeSwgd2UnbGwgc2VlIHRoYXQgb25seSBgZHVyV29ya2AsIGBkdXJTbGVlcGAgYW5kIGBkdXJBbG9uZWAgaGF2ZSBudW1lcmljIHZhbHVlcyB0aGF0IHJlcHJlc2VudCByZWFsIHF1YW50aXRpZXMgKG1pbnV0ZXMgb2Ygd29yaywgc2xlZXAgb3IgdGltZSBhbG9uZSBpbiBhIGRheSkuIEluIGNvbnRyYXN0LCB0aGUgdmFsdWVzIGluIHRoZSBgZmVlbFJ1c2hlZGAgY29sdW1uIGhhdmUgYSBkaWZmZXJlbnQgbWVhbmluZy4KCnwgQ29kZSB8IFZhbHVlICAgICAgICAgICAgfAp8LS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLXwKfCAxICAgIHwgZGFpbHkgICAgICAgICAgICB8CnwgMiAgICB8IGZldyBUaW1lcyBhIFdlZWsgfAp8IDMgICAgfCBvbmNlIGEgV2VlayAgICAgIHwKfCA0ICAgIHwgb25jZSBhIE1vbnRoICAgICB8CnwgNSAgICB8IGxlc3MgYSBNb250aCAgICAgfAp8IDYgICAgfCBuZXZlciAgICAgICAgICAgIHwKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMgU3RlcCAyOiBBcHBseSBCYXNpYyBGaWx0ZXJpbmcKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKPCEtLSAjIyMgRmlsdGVyaW5nIFJvd3Mgd2l0aCAqZHBseXIqIC0tPgoKPGg0IHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij4KCkZpbHRlcmluZyBSb3dzIHdpdGggPHN0cm9uZz5kcGx5cjwvc3Ryb25nPgoKPC9oND4KCiFbXShpbWFnZXMvMy1BQ1QtMy1GaWx0ZXIucG5nKQoKRm9yIHRoaXMgYW5hbHlzaXMsIHdlIHdpbGwgY29uc2lkZXIgcmVzcG9uZGVudHMgd2hvIHJlcG9ydCBmZWVsaW5nIHJ1c2hlZCBhcyB0aG9zZSB3aG9zZSBmcmVxdWVuY3kgb2YgZmVlbGluZyB0aGlzIHdheSBpcyBhdCBsZWFzdCBvbmNlIGEgd2VlaywgYW5kIHRob3NlIHdobyBmZWVsIHRoaXMgd2F5IGxlc3MgdGhhbiBvbmNlIGEgd2VlayBhcyBub3QgZmVlbGluZyBydXNoZWQuCgojIyMjIEV4dHJhY3RpbmcgUmVzcG9uZGVudHMgV2hvIERvIG9yIERvIG5vdCBGZWVsIFJ1c2hlZCBEYWlseQoKRmlyc3QsIGxldCdzIGV4dHJhY3Qgb25seSB0aGUgcmVzcG9uZGVudHMgd2hvIHJlcG9ydCBmZWVsaW5nIHJ1c2hlZCBkYWlseS4gTG9va2luZyBhdCB0aGUgdGFibGUsIHRoZSB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIGZlZWxpbmcgcnVzaGVkIGRhaWx5IGlzIDEuIFdlIGNhbiBmaWx0ZXIgZm9yIHRoZXNlIHJlc3BvbmRlbnRzIHVzaW5nIGBmaWx0ZXIoKWAuCgo6Ojogbm90ZQpUaGUgYGZpbHRlcigpYCBmdW5jdGlvbiBpbiBgZHBseXJgIHJldHVybnMgb25seSB0aGUgcm93cyB0aGF0IG1lZXQgYSBzcGVjaWZpZWQgY29uZGl0aW9uLgo6OjoKCldlIGZpbHRlciBhbnkgcm93IHdoaWNoIGhhcyBgZmVlbFJ1c2hlZGAgZXF1YWwgdG8gMSBieSBwYXNzaW5nIHRoZSBCb29sZWFuIGV4cHJlc3Npb24gYGZlZWxSdXNoZWQgPT0gMWAgaW50byBgZmlsdGVyYCwgYW5kIHRoZW4gdXNlIGBoZWFkKClgIHRvIHNlZSB3aGF0IHRoZSBmaWx0ZXJlZCBkYXRhIGxvb2sgbGlrZS4KCmBgYHtyLCBkYXRhLWlzb2xhdGlvbi0yLCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkID09IDEpIHw+IAogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkID09IDEpIHw+IAogIGhlYWQoKSB8PgogIGtibCgpIHw+CiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4KICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKCkxvb2tpbmcgYXQgdGhlIGZpbHRlcmVkIGRhdGEsIHdlIGNhbiBjb25maXJtIHRoYXQgb3VyIGZpbHRlciB3b3JrZWQgY29ycmVjdGx5LS0tYWxsIHJvd3Mgc2hvdyBgZmVlbFJ1c2hlZGAgZXF1YWwgdG8gMSAobWVhbmluZyB0aGV5IGZlZWwgcnVzaGVkIGRhaWx5KS4KClVzaW5nIGBmaWx0ZXIoKWAsIHdlIHN1YnNldCB0aGUgZGF0YSB0byBrZWVwIG9ubHkgdGhvc2Ugcm93cyB3aGVyZSB0aGUgY29uZGl0aW9uIGlzIG1ldC4gSW4gdGhlIGFib3ZlIGV4YW1wbGUsIHRoZSBjb25kaXRpb24gYGZlZWxSdXNoZWQgPT0gMWAgY3JlYXRlcyBhIGxvZ2ljYWwgdmVjdG9yIHRoYXQgaXMgYFRSVUVgIGZvciByb3dzIHdoZXJlIHRoZSB2YWx1ZSBlcXVhbHMgMSAoY29ycmVzcG9uZGluZyB0byAiZGFpbHkiKS4KCiMjIyMgVXNpbmcgQ29tcGFyaXNvbiBhbmQgTG9naWNhbCBPcGVyYXRvcnMKCk5vdCBvbmx5IGNhbiB3ZSB1c2UgdGhlIGA9PWAgb3BlcmF0b3IgdG8gdGVzdCBmb3IgZXF1YWxpdHksIGJ1dCB3ZSBjYW4gYWxzbyB1c2Ugb3BlcmF0b3JzIHN1Y2ggYXMgYDxgLCBgPmAsIGA8PWAsIGA+PWAsIGFuZCBgIT1gIHRvIGNvbXBhcmUgdmFsdWVzLiBGb3IgZXhhbXBsZSwgd2UgbWlnaHQgZmlsdGVyIHJvd3Mgd2hlcmUgYSBudW1lcmljIHZhcmlhYmxlIGV4Y2VlZHMgYSBjZXJ0YWluIHRocmVzaG9sZCwgaXMgYmVsb3cgYSBsaW1pdCwgb3IgaXMgbm90IGVxdWFsIHRvIGEgc3BlY2lmaWVkIHZhbHVlLiBMZXQncyB1c2UgYW4gZXhhbXBsZSBmcm9tIHRoZSBgZHVyU2xlZXBgIGNvbHVtbi4KCkZvciBpbnN0YW5jZSwgaWYgd2Ugd2FudCB0byBmaWx0ZXIgcm93cyBmb3IgdGhlIGBkdXJTbGVlcGAgY29sdW1uIHRvIGNhcHR1cmUgYW55IGluc3RhbmNlcyB3aXRoIHNsZWVwIGR1cmF0aW9uIGxlc3MgdGhhbiBgNjAwYCwgd2UgY2FuIHdyaXRlOgoKYGBge3IsIGRhdGEtaXNvbGF0aW9uLTMsIHJlc3VsdHMgPSAnaGlkZSd9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGR1clNsZWVwIDwgNjAwKSB8PgogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpqc19kYXRhIHw+IAogIGZpbHRlcihkdXJTbGVlcCA8IDYwMCkgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgpBbHRlcm5hdGl2ZWx5LCB3ZSBjYW4gZmlsdGVyIHJvd3Mgd2hlcmUgYGR1clNsZWVwYCBpcyBiZXR3ZWVuIGA2MDBgIGFuZCBgMTAwMGAuIFRvIGRvIHRoaXMsIHdlIGNoYWluIHR3byBjb25kaXRpb25zIHVzaW5nIHRoZSBgJmAgb3BlcmF0b3I6CgpgYGB7ciwgZGF0YS1pc29sYXRpb24tNCwgcmVzdWx0cyA9ICdoaWRlJ30KanNfZGF0YSB8PiAKICBmaWx0ZXIoZHVyU2xlZXAgPj0gNjAwICYgZHVyU2xlZXAgPD0gMTAwMCkgfD4KICBoZWFkKCkKYGBgCgpgYGB7ciwgZWNobz1GQUxTRX0KanNfZGF0YSB8PiAKICBmaWx0ZXIoZHVyU2xlZXAgPj0gNjAwICYgZHVyU2xlZXAgPD0gMTAwMCkgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgo6Ojogd2Fsa3Rocm91Z2gKSW4gdGhpcyBleGFtcGxlOgoKLSAgIFRoZSBjb25kaXRpb24gYGR1clNsZWVwID49IDYwMGAgY2hlY2tzIGZvciByb3dzIHdoZXJlIHNsZWVwIGR1cmF0aW9uIGlzIGF0IGxlYXN0IGA2MDBgLgotICAgVGhlIGNvbmRpdGlvbiBgZHVyU2xlZXAgPD0gMTAwMGAgY2hlY2tzIGZvciByb3dzIHdoZXJlIHNsZWVwIGR1cmF0aW9uIGlzIGF0IG1vc3QgYDEwMDBgLgotICAgVGhlIGAmYCBvcGVyYXRvciBjb21iaW5lcyB0aGVzZSBjb25kaXRpb25zLCBlbnN1cmluZyB0aGF0IG9ubHkgcm93cyBzYXRpc2Z5aW5nIGJvdGggY29uZGl0aW9ucyBhcmUgcmV0dXJuZWQuCjo6OgoKSGVyZSB3ZSd2ZSB1c2VkIHRoZSBgJmAgb3BlcmF0b3IgZm9yICJhbmQiIGNvbmRpdGlvbnMsIGJ1dCB3ZSBjYW4gYWxzbyB1c2UgdGhlIGB8YCBvcGVyYXRvciB0byBzcGVjaWZ5ICJvciIgY29uZGl0aW9ucy4gQnkgdXNpbmcgdGhlc2UgYm9vbGVhbiBvcGVyYXRvcnMsIHdlIGNhbiBjaGFpbiBtdWx0aXBsZSBjb25kaXRpb25zIHRvZ2V0aGVyLiAKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMgU3RlcCAzOiBBcHBseSBDb21wbGV4IEZpbHRlcmluZwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgo8IS0tICMjIyBDb21wbGV4IEZpbHRlcmluZyB3aXRoIGRwbHlyOiBGaWx0ZXJpbmcgUm93cyBmb3IgVGhvc2UgV2hvIEZlZWwgUnVzaGVkIC0tPgoKPGg0IHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij4KCkNvbXBsZXggRmlsdGVyaW5nIHdpdGggPHN0cm9uZz5kcGx5cjwvc3Ryb25nPjogRmlsdGVyaW5nIFJvd3MgZm9yIFRob3NlIFdobyBGZWVsIFJ1c2hlZAoKPC9oND4KCk5vdywgbGV0J3MgcGVyZm9ybSBhIG1vcmUgY29tcGxleCBmaWx0ZXJpbmcuIFN1cHBvc2Ugd2Ugd2FudCB0byBjYXB0dXJlIHJlc3BvbmRlbnRzIHdobyBmZWVsIHJ1c2hlZCBmcmVxdWVudGx5LS0tdGhhdCBpcywgdGhvc2Ugd2hvc2UgYGZlZWxSdXNoZWRgIHZhbHVlIGlzIGVpdGhlciBgMWAsIGAyYCwgb3IgYDNgLS0tYW5kIHRob3NlIHdobyBkbyBub3QgZmVlbCBydXNoZWQgZnJlcXVlbnRseSwgbWVhbmluZyB0aG9zZSB3aG9zZSBgZmVlbFJ1c2hlZGAgdmFsdWUgaXMgZWl0aGVyIGA0YCwgYDVgLCBvciBgNmAuCgpUaGVyZSBhcmUgbXVsdGlwbGUgd2F5cyB0byBmaWx0ZXIgcm93cyB0aGF0IG1lZXQgb25lIG9mIHRoZXNlIGNvbmRpdGlvbnMuCgojIyMjIFVzaW5nIFJhbmdlIENvbXBhcmlzb24KClRoZSBmaXJzdCBtZXRob2QgdXNlcyBhIHJhbmdlIGNvbXBhcmlzb24gd2l0aCBgPD1gIHRvIGZpbHRlciB0aGUgcm93cy4KCmBgYHtyLCBkYXRhLWlzb2xhdGlvbi01LCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkIDw9IDMpIHw+CiAgaGVhZCgpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgPD0gMykgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKCmBgYAoKYGBge3IsIGRhdGEtaXNvbGF0aW9uLTYsIHJlc3VsdHMgPSAnaGlkZSd9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgPiAzICYgZmVlbFJ1c2hlZCA8PSA2KSB8PgogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkID4gMyAmIGZlZWxSdXNoZWQgPD0gNikgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgpOb3cgbGV0J3MgY2FsY3VsYXRlIGhvdyBtYW55IHJvd3MgcmVtYWluIGFmdGVyIHdlIHBlcmZvcm1lZCBmaWx0ZXJpbmcuCgpgYGB7cn0KYWxsX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBucm93KCkKcnVzaGVkX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA8PSAzKSB8PgogIG5yb3coKQpub3RfcnVzaGVkX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA+IDMgJiBmZWVsUnVzaGVkIDw9IDYpIHw+CiAgbnJvdygpCmBgYAoKTGV0J3MgcHJpbnQgYW5kIHNlZSB0aGUgbnVtYmVyIG9mIHJvd3MgaW4gZWFjaCBkYXRhZnJhbWUgYWZ0ZXIgZmlsdGVyaW5nLgoKYGBge3J9CnByaW50KHBhc3RlKCJUaGUgbnVtYmVyIG9mIHJvd3MgaW4gZGF0YSBpczoiLCBhbGxfcm93cykpCnByaW50KHBhc3RlKCJUaGUgbnVtYmVyIG9mIHJvd3MgaW4gcnVzaGVkIGlzOiIsIHJ1c2hlZF9yb3dzKSkKcHJpbnQocGFzdGUoIlRoZSBudW1iZXIgb2Ygcm93cyBpbiBub3QgcnVzaGVkIGlzOiIsIG5vdF9ydXNoZWRfcm93cykpCmBgYAoKOjo6IHdhbGt0aHJvdWdoCi0gICBUaGlzIGFwcHJvYWNoIHNlbGVjdHMgcm93cyB3aGVyZSBgZmVlbFJ1c2hlZGAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGAzYCAoaS5lLiwgdmFsdWVzIGAxYCwgYDJgLCBvciBgM2ApIHRvIGluZGljYXRlIHJlc3BvbmRlbnRzIHdobyBmZWVsIHJ1c2hlZC4KLSAgIFJvd3Mgd2hlcmUgYGZlZWxSdXNoZWRgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgNGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgNmAgYXJlIGNvbnNpZGVyZWQgbm90IHJ1c2hlZC4KLSAgIFdlIHVzZSB0aGUgYCZgIG9wZXJhdG9yIHRvIGNoYWluIHRoZSB0d28gQm9vbGVhbiBvcGVyYXRpb25zLgotICAgVGhlIGBucm93KClgIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIG51bWJlciBvZiByb3dzIGluIHRoZSBkYXRhIGZyYW1lLgo6OjoKCkFzIHdlIGNhbiBzZWUsIHRoZSBvcmlnaW5hbCBkYXRhIGZyYW1lIGhhcyBgMTcsMzkwYCByb3dzOyBhZnRlciBmaWx0ZXJpbmcsIHRoZSBydXNoZWQgZGF0YSBmcmFtZSBjb250YWlucyBvbmx5IGAxMiw2ODlgIHJvd3MuCgojIyMjIENoYWluaW5nIE11bHRpcGxlIENvbmRpdGlvbnMKCkFsdGVybmF0aXZlbHksIHdlIGNhbiB1c2UgYSBzZWNvbmQgbWV0aG9kIHRoYXQgaW52b2x2ZXMgY2hhaW5pbmcgdGhyZWUgY29uZGl0aW9ucyB1c2luZyB0aGUgYHxgIG9wZXJhdG9yLiBXaGlsZSB0aGlzIGFwcHJvYWNoIGlzIG1vcmUgdmVyYm9zZSwgaXQgbWFrZXMgdGhlIGxvZ2ljIHZlcnkgZXhwbGljaXQ6CgpgYGB7ciwgZGF0YS1pc29sYXRpb24tNywgcmVzdWx0cyA9ICdoaWRlJ30KanNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA9PSAxIHwgZmVlbFJ1c2hlZCA9PSAyIHwgZmVlbFJ1c2hlZCA9PSAzKSB8PiAKICBoZWFkKCkKYGBgCgpgYGB7ciwgZWNobz1GQUxTRX0KanNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA9PSAxIHwgZmVlbFJ1c2hlZCA9PSAyIHwgZmVlbFJ1c2hlZCA9PSAzKSB8PiAKICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgpgYGB7ciwgZGF0YS1pc29sYXRpb24tMjAsIHJlc3VsdHMgPSAnaGlkZSd9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgPT0gNCB8IGZlZWxSdXNoZWQgPT0gNSB8IGZlZWxSdXNoZWQgPT0gNikgfD4KICBoZWFkKCkKYGBgCgpgYGB7ciwgZWNobz1GQUxTRX0KanNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA9PSA0IHwgZmVlbFJ1c2hlZCA9PSA1IHwgZmVlbFJ1c2hlZCA9PSA2KSB8PgogIGhlYWQoKSB8PgogIGtibCgpIHw+CiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4KICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKClRoaXMgbWV0aG9kIHZlcnkgZXhwbGljaXRseSB0ZXN0cyBmb3Igcm93cyB3aGVyZSB0aGUgYGZlZWxSdXNoZWRgIHZhbHVlIGlzIGVpdGhlciBgMWAsIGAyYCwgb3IgYDNgLCBvciBmb3Igcm93cyB3aGVyZSB0aGUgdmFsdWUgaXMgZWl0aGVyIGA0YCwgYDVgIG9yIGA2YC4gCgpBZ2FpbiwgbGV0J3MgY2FsY3VsYXRlIGhvdyBtYW55IHJvd3MgcmVtYWluIGFmdGVyIHdlIHBlcmZvcm1lZCBmaWx0ZXJpbmcuCgpgYGB7cn0KcnVzaGVkX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA9PSAxIHwgZmVlbFJ1c2hlZCA9PSAyIHwgZmVlbFJ1c2hlZCA9PSAzKSB8PgogIG5yb3coKQpub3RfcnVzaGVkX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA9PSA0IHwgZmVlbFJ1c2hlZCA9PSA1IHwgZmVlbFJ1c2hlZCA9PSA2KSB8PgogIG5yb3coKQoKcHJpbnQocGFzdGUoIlRoZSBudW1iZXIgb2Ygcm93cyBpbiBydXNoZWQgaXM6IiwgcnVzaGVkX3Jvd3MpKQpwcmludChwYXN0ZSgiVGhlIG51bWJlciBvZiByb3dzIGluIG5vdCBydXNoZWQgaXM6Iiwgbm90X3J1c2hlZF9yb3dzKSkKYGBgCgpBcyB3ZSBjYW4gc2VlLCBsb29raW5nIGF0IHRoZSByZW1haW4gcm93cyBhZnRlciBmaWx0ZXJpbmcsIGl0IHByb2R1Y2VzIHRoZSBzYW1lIG91dHB1dCBhcyBwcmV2aW91c2x5LgoKVGhlcmUgaXMgYWxzbyBhIHRoaXJkLCBtb3JlIGVsZWdhbnQgYXBwcm9hY2ggdXNpbmcgdGhlIGAlaW4lYCBvcGVyYXRvciwgYnV0IHdlIHdpbGwgZXhwbG9yZSB0aGlzIG1ldGhvZCBpbiB0aGUgZXhlcmNpc2VzIGF0IHRoZSBlbmQgb2YgdGhpcyBzZXNzaW9uLgoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIyBTdGVwIDQ6IFNlbGVjdCBSZWxldmFudCBWYXJpYWJsZXMKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIVtdKGltYWdlcy8zLUFDVC0zLVNlbGVjdC5wbmcpCgo8aDQgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPgoKU2VsZWN0aW5nIGFuZCBDbGVhbmluZyBUaW1lLVJlbGF0ZWQgVmFyaWFibGVzCgo8L2g0PgoKPCEtLSAjIyMgU2VsZWN0aW5nIGFuZCBDbGVhbmluZyBUaW1lLVJlbGF0ZWQgVmFyaWFibGVzIC0tPgoKTmV4dCwgd2UnbGwgZm9jdXMgb24gdGhlIGtleSB0aW1lIGFsbG9jYXRpb24gY29sdW1ucyB0aGF0IGFyZSBtb3N0IHJlbGV2YW50IHRvIG91ciBhbmFseXNpczogYGR1cldvcmtgLCBgZHVyU2xlZXBgLCBhbmQgYGR1ckFsb25lYC4gVGhlc2UgdmFyaWFibGVzIHJlcHJlc2VudDoKCi0gICBgZHVyV29ya2A6IFRpbWUgc3BlbnQgb24gcGFpZCB3b3JrIGFjdGl2aXRpZXMKLSAgIGBkdXJTbGVlcGA6IFRpbWUgc3BlbnQgc2xlZXBpbmcsIHJlc3RpbmcsIG9yIHJlbGF4aW5nCi0gICBgZHVyQWxvbmVgOiBUaW1lIHNwZW50IGFsb25lCgo6Ojogbm90ZQpUaGUgYHNlbGVjdCgpYCBmdW5jdGlvbiBpbiBgZHBseXJgIGlzIHVzZWQgdG8gY2hvb3NlIHNwZWNpZmljIGNvbHVtbnMgZnJvbSBhIGRhdGFzZXQuCjo6OgoKV2UnbGwgc2VsZWN0IG9ubHkgdGhlc2UgdGhyZWUgY29sdW1ucyBmcm9tIG91ciBydXNoZWQgYW5kIG5vdF9ydXNoZWQgZGF0YXNldHMgdXNpbmcgYHNlbGVjdCgpYC4KCmBgYHtyfQpydXNoZWRfdGltZSA8LSBqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkIDw9IDMpIHw+CiAgc2VsZWN0KGR1cldvcmssIGR1clNsZWVwLCBkdXJBbG9uZSkgCgpub3RfcnVzaGVkX3RpbWUgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCA+IDMpIHw+IAogIHNlbGVjdChkdXJXb3JrLCBkdXJTbGVlcCwgZHVyQWxvbmUpCmBgYAoKOjo6IHdhbGt0aHJvdWdoCkluIHRoaXMgZXhhbXBsZSwgd2UgdXNlIHRoZSBgc2VsZWN0KClgIGZ1bmN0aW9uIHRvIGV4dHJhY3Qgb25seSB0aGUgcmVsZXZhbnQgY29sdW1ucyBmcm9tIHRoZSBkYXRhc2V0IHJlc3VsdGluZyBmcm9tIGZpbHRlcmluZyByb3dzIG9mIHRob3NlIHdobyBmZWVsIHJ1c2hlZCAoaS5lLiwgYGZlZWxSdXNoZWQgPD0zYCkgYW5kIHRob3NlIHdobyBkb24ndCBmZWVsIHJ1c2hlZCAoaS5lLiwgYGZlZWxSdXNoZWQgPiAzYCkuCgotICAgYHNlbGVjdChkdXJXb3JrLCBkdXJTbGVlcCwgZHVyQWxvbmUpYCB0ZWxscyBSIHRvIGtlZXAgb25seSB0aGVzZSB0aHJlZSBjb2x1bW5zOgogICAgLSAgIGBkdXJXb3JrYDogZHVyYXRpb24gb2YgcGFpZCB3b3JrCiAgICAtICAgYGR1clNsZWVwYDogZHVyYXRpb24gb2Ygc2xlZXAgYW5kIHJlc3QKICAgIC0gICBgZHVyQWxvbmVgOiBkdXJhdGlvbiBvZiB0aW1lIHNwZW50IGFsb25lCi0gICBUaGUgYHw+YCAocGlwZSBvcGVyYXRvcikgcGFzc2VzIHRoZSBkYXRhIGZyYW1lcyBvbiB0aGUgbGVmdCBpbnRvIHRoZSBgc2VsZWN0KClgIGZ1bmN0aW9uLgoKVGhpcyBzdGVwIGhlbHBzIHJlZHVjZSB0aGUgZGF0YXNldCB0byBvbmx5IHRoZSB2YXJpYWJsZXMgd2UgY2FyZSBhYm91dCBmb3IgY29tcGFyaW5nIGhvdyBydXNoZWQgYW5kIG5vdC1ydXNoZWQgaW5kaXZpZHVhbHMgYWxsb2NhdGUgdGhlaXIgdGltZS4KOjo6CgpJbiB0aGUgcHJldmlvdXMgY29kZSwgd2UgYXNzaWduZWQgdGhlIHJlc3VsdGluZyBkYXRhIGZyYW1lcyB0byB0aGUgdmFyaWFibGVzIGBub3RfcnVzaGVkX3RpbWVgIGFuZCBgcnVzaGVkX3RpbWVgLiBUaGVzZSB2YXJpYWJsZXMgd2lsbCBiZSB1c2VmdWwgd2hlbiB3ZSBjb21wYXJlIHRpbWUgdXNhZ2UgYmV0d2VlbiB0d28gZ3JvdXBzLgoKTGV0J3MgZXhhbWluZSB0aGUgZmlyc3QgZmV3IHJvd3Mgb2YgYHJ1c2hlZF90aW1lYCBhbmQgYG5vdF9ydXNoZWRfdGltZWAuCgpgYGB7ciwgZGF0YS1pc29sYXRpb24tOTEsIHJlc3VsdHMgPSAnaGlkZSd9CnJ1c2hlZF90aW1lIHw+IAogIGhlYWQoKQoKbm90X3J1c2hlZF90aW1lIHw+IAogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpoZWFkKHJ1c2hlZF90aW1lKSB8PgogIGtibCgpIHw+CiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4KICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQoKaGVhZChub3RfcnVzaGVkX3RpbWUpIHw+CiAga2JsKCkgfD4KICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PgogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCmBgYAoKQXMgd2UgY2FuIHNlZSwgb3VyIGRhdGEgZnJhbWUgcmVzdWx0aW5nIGZyb20gdXNpbmcgYHNlbGVjdCgpYCBvbmx5IGNvbnRhaW4gMyBjb2x1bW5zOiBgZHVyU2xlZXBgLCBgZHVyQWxvbmVgLCBhbmQgYGR1cldvcmtgCgo6Ojogbm90ZQoqKkhlbHBlciBGdW5jdGlvbnMgZm9yIGBzZWxlY3QoKWAqKgoKU3VwcG9zZSB3ZSB3YW50IHRvIHB1bGwgb3V0IGV2ZXJ5IGNvbHVtbiBpbiBganNfZGF0YWAgd2hvc2UgbmFtZSByZWZlcnMgdG8gImR1cmF0aW9uIi0tLWZvciBleGFtcGxlLCBgZHVyV29ya2AsIGBkdXJEcml2aW5nYCwgYGR1clNjaG9vbFNpdGVgLCBhbmQgc28gb24uIFdlIGNvdWxkIG1hbnVhbGx5IGxpc3QgdGhlbSBpbiBgc2VsZWN0KClgLCBidXQgdGhhdCBxdWlja2x5IGJlY29tZXMgdGVkaW91cyBhbmQgZXJyb3ItcHJvbmUgYXMgb3VyIGRhdGEgZ3Jvd3MuCgpgZHBseXJgIHByb3ZpZGVzIGEgZmFtaWx5IG9mICoqaGVscGVyKiogZnVuY3Rpb25zIGZvciBleGFjdGx5IHRoaXMga2luZCBvZiB0YXNrLiBJbiB0aGlzIGNhc2UsIGBzdGFydHNfd2l0aCgiZHVyIilgIHdpbGwgbWF0Y2ggZXZlcnkgdmFyaWFibGUgd2hvc2UgbmFtZSBiZWdpbnMgd2l0aCAiZHVyIi4gV2UgY2FuIHBhc3MgdGhhdCBoZWxwZXIgZGlyZWN0bHkgdG8gYHNlbGVjdCgpYDoKCmBgYHtyLCBkYXRhLWlzb2xhdGlvbi05LCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIHNlbGVjdChzdGFydHNfd2l0aCgiZHVyIikpIHw+CiAgaGVhZCgpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmpzX2RhdGEgfD4gCiAgc2VsZWN0KHN0YXJ0c193aXRoKCJkdXIiKSkgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PgogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+CiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgpUaGVyZSBhcmUgbWFueSBvdGhlciBoZWxwZXJzLCBzdWNoIGFzIGBlbmRzX3dpdGgoKWAsIGBjb250YWlucygpYCwgYG1hdGNoZXMoKWAsIGFuZCBtb3JlLCB3aGljaCBsZXQgdXMgYnVpbGQgY2xlYW4sIGZsZXhpYmxlIGNvZGUgd2l0aG91dCBoYXZpbmcgdG8gc3BlbGwgb3V0IGV2ZXJ5IHZhcmlhYmxlIG5hbWUuIFdlIGNhbiBjaGVjayB0aGUgc2VsZWN0IFtyZWZlcmVuY2VdKGh0dHBzOi8vZHBseXIudGlkeXZlcnNlLm9yZy9yZWZlcmVuY2Uvc2VsZWN0Lmh0bWwpIGluIHRpZHl2ZXJzZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KOjo6CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMjIFN0ZXAgNTogQ29tcGFyZSBUaW1lIFVzZSBCZXR3ZWVuIEdyb3VwcwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgo8aDQgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPgoKQ29tcGFyaW5nIFRpbWUgVXNhZ2UgQmV0d2VlbiBHcm91cHMKCjwvaDQ+Cgo8IS0tICMjIyBSZXN1bHRzOiBDb21wYXJpbmcgVGltZSBVc2FnZSBCZXR3ZWVuIEdyb3VwcyAtLT4KCk5vdyB0aGF0IHdlIGhhdmUgb3VyIGNsZWFuZWQgZGF0YXNldHMgZm9yIGJvdGggcnVzaGVkIGFuZCBub3QgcnVzaGVkIGdyb3Vwcywgd2UgY2FuIGFuYWx5emUgaG93IHRoZXNlIGdyb3VwcyBkaWZmZXIgaW4gdGhlaXIgdGltZSBhbGxvY2F0aW9uIHBhdHRlcm5zLiBXZSdsbCBjYWxjdWxhdGUgYW5kIGNvbXBhcmUgdGhlIG1lYW4gZHVyYXRpb25zIGZvciBzbGVlcCwgd29yaywgYW5kIGFsb25lIHRpbWUgYmV0d2VlbiB0aGUgdHdvIGdyb3Vwcy4KCkxldCdzIGJyZWFrIHRoaXMgZG93biBpbnRvIHN0ZXBzOiAxLiBGaXJzdCwgd2UnbGwgY2FsY3VsYXRlIHRoZSBtZWFuIHZhbHVlcyBmb3IgZWFjaCB0aW1lLXVzZSB2YXJpYWJsZSB3aXRoaW4gZWFjaCBncm91cC4gMi4gVGhlbiwgd2UnbGwgY29tcHV0ZSB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGVzZSBtZWFucyB0byB1bmRlcnN0YW5kIHRoZSBtYWduaXR1ZGUgb2YgdmFyaWF0aW9uLgoKV2UgY2FuIGNyZWF0ZSBhIHN1bW1hcnkgdGFibGUgdGhhdCBjb250YWlucyB0aGUgbWVhbiB2YWx1ZXMgb2YgYGR1clNsZWVwYCwgYGR1ckFsb25lYCwgYW5kIGBkdXJXb3JrYCBmb3IgZWFjaCBvZiB0aGUgcnVzaGVkX3RpbWUgYW5kIG5vdF9ydXNoZWRfdGltZSBkYXRhZnJhbWVzOgoKYGBge3J9Cm1lYW5fcnVzaGVkIDwtIHJ1c2hlZF90aW1lIHw+IAogIHN1bW1hcmlzZSgKICAgIGR1clNsZWVwID0gbWVhbihkdXJTbGVlcCwgbmEucm0gPSBUUlVFKSwKICAgIGR1ckFsb25lID0gbWVhbihkdXJBbG9uZSwgbmEucm0gPSBUUlVFKSwKICAgIGR1cldvcmsgPSBtZWFuKGR1cldvcmssIG5hLnJtID0gVFJVRSkKICApCgptZWFuX25vdF9ydXNoZWQgPC0gbm90X3J1c2hlZF90aW1lIHw+IAogIHN1bW1hcmlzZSgKICAgIGR1clNsZWVwID0gbWVhbihkdXJTbGVlcCwgbmEucm0gPSBUUlVFKSwKICAgIGR1ckFsb25lID0gbWVhbihkdXJBbG9uZSwgbmEucm0gPSBUUlVFKSwKICAgIGR1cldvcmsgPSBtZWFuKGR1cldvcmssIG5hLnJtID0gVFJVRSkKICApCmBgYAoKOjo6IHdhbGt0aHJvdWdoCkhvdyBpdCB3b3JrczoKCi0gICBgc3VtbWFyaXNlKClgIGNvbGxhcHNlcyBlYWNoIGRhdGEgZnJhbWUgZG93biB0byBhIHNpbmdsZSByb3cuCi0gICBJbnNpZGUsIHdlIGV4cGxpY2l0bHkgbmFtZSBlYWNoIG5ldyBjb2x1bW4gKGBkdXJTbGVlcGAsIGBkdXJBbG9uZWAsIGBkdXJXb3JrYCkgYW5kIGFzc2lnbiBpdCBgbWVhbihvbGRfY29sdW1uLCBuYS5ybSA9IFRSVUUpYC4KLSAgIGBuYS5ybSA9IFRSVUVgIG1ha2VzIHN1cmUgbWlzc2luZyB2YWx1ZXMgZG9uJ3QgdGhyb3cgb2ZmIG91ciBhdmVyYWdlcy4KOjo6CgpIb3dldmVyLCB3ZSBjYW4gc2VlIHRoZXJlJ3MgYSBsaXR0bGUgYml0IG9mIHJlcGV0aXRpb24gaW4gdGhlIGNvZGUgYWJvdmUuIFdlIGNhbiB3cml0ZSBtdWNoIGNsZWFuZXIgY29kZSB0byBjYWxjdWxhdGUgdGhlIG1lYW4gZm9yIGV2ZXJ5IGNvbHVtbiBhdCBvbmNlLgoKYGBge3J9CiMgQ2FsY3VsYXRlIHRoZSBtZWFuIHZhbHVlcyBmb3IgZWFjaCB2YXJpYWJsZSB1c2luZyBzdW1tYXJpc2UgYW5kIGFjcm9zcwptZWFuX3J1c2hlZCA8LSBydXNoZWRfdGltZSB8PiAKICBzdW1tYXJpc2UoYWNyb3NzKGV2ZXJ5dGhpbmcoKSwgfiBtZWFuKC4gLCBuYS5ybSA9IFRSVUUpKSkKCm1lYW5fbm90X3J1c2hlZCA8LSBub3RfcnVzaGVkX3RpbWUgfD4gCiAgc3VtbWFyaXNlKGFjcm9zcyhldmVyeXRoaW5nKCksIH4gbWVhbiguICwgbmEucm0gPSBUUlVFKSkpCgpgYGAKCjo6OiB3YWxrdGhyb3VnaApJbiB0aGlzIGNvZGU6CgotICAgV2UgdXNlIGBzdW1tYXJpc2UoKWAgd2l0aCBgYWNyb3NzKClgIHRvIGNhbGN1bGF0ZSBtZWFucyBmb3IgYWxsIGNvbHVtbnMgYXQgb25jZQotICAgVGhlIGBuYS5ybSA9IFRSVUVgIGFyZ3VtZW50IGVuc3VyZXMgd2UgZXhjbHVkZSBtaXNzaW5nIHZhbHVlcyBmcm9tIG91ciBjYWxjdWxhdGlvbnMKOjo6CgpXZSBjYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UgaW4gbWVhbnMgYmV0d2VlbiB0aGVzZSB0d28gZ3JvdXBzLgoKYGBge3J9CmRpZmZfbWVhbnMgPC0gbWVhbl9ydXNoZWQgLSBtZWFuX25vdF9ydXNoZWQKYGBgCgpUaGUgc3VidHJhY3Rpb24gKGBtZWFuX3J1c2hlZCAtIG1lYW5fbm90X3J1c2hlZGApIGdpdmVzIGEgbmV3IG9uZeKAkHJvdyB0aWJibGUgc2hvd2luZyBob3cgbXVjaCBtb3JlIChvciBsZXNzKSB0aW1lICJydXNoZWQiIGluZGl2aWR1YWxzIHNwZW5kIG9uIGVhY2ggYWN0aXZpdHkgY29tcGFyZWQgdG8gIm5vdCBydXNoZWQiIGluZGl2aWR1YWxzLgoKTm93LCBsZXQncyBzZWUgd2hhdCB3ZSBnZXQgdXAgdG8gdGhpcyBwb2ludC4KCmBgYHtyLCBlY2hvPUZBTFNFfQojIFByaW50IHRoZSByZXN1bHRzCnByaW50KCJNZWFuIHZhbHVlcyBmb3IgcmVzcG9uZGVudHMgd2hvIGZlZWwgcnVzaGVkOiIpCm1lYW5fcnVzaGVkIHw+CiAga2JsKCkgfD4KICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PgogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCgpwcmludCgiTWVhbiB2YWx1ZXMgZm9yIHJlc3BvbmRlbnRzIHdobyBkbyBub3QgZmVlbCBydXNoZWQ6IikKbWVhbl9ub3RfcnVzaGVkIHw+CiAga2JsKCkgfD4KICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PgogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCgpwcmludCgiRGlmZmVyZW5jZSBiZXR3ZWVuIHJ1c2hlZCBhbmQgbm90IHJ1c2hlZCAocnVzaGVkIC0gbm90IHJ1c2hlZCk6IikKZGlmZl9tZWFucyB8PgogIGtibCgpIHw+CiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4KICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKCjo6OiBub3RlClBvc2l0aXZlIHZhbHVlcyBpbiB0aGUgZGlmZmVyZW5jZSBjYWxjdWxhdGlvbiBpbmRpY2F0ZSB0aGF0IHJ1c2hlZCBpbmRpdmlkdWFscyBzcGVuZCBtb3JlIHRpbWUgb24gdGhhdCBhY3Rpdml0eSwgd2hpbGUgbmVnYXRpdmUgdmFsdWVzIGluZGljYXRlIHRoZXkgc3BlbmQgbGVzcyB0aW1lIGNvbXBhcmVkIHRvIHRob3NlIHdobyBkb24ndCBmZWVsIHJ1c2hlZC4KOjo6CgpUaGVzZSByZXN1bHRzIHByb3ZpZGUgaW50ZXJlc3RpbmcgaW5zaWdodHMgaW50byBob3cgZmVlbGluZyBydXNoZWQgcmVsYXRlcyB0byB0aW1lIGFsbG9jYXRpb24gcGF0dGVybnMuIEZvciBpbnN0YW5jZSwgd2UgY2FuIG9ic2VydmUgd2hldGhlciBwZW9wbGUgd2hvIGZlZWwgcnVzaGVkIGFjdHVhbGx5IHNwZW5kIG1vcmUgdGltZSB3b3JraW5nIG9yIGxlc3MgdGltZSBzbGVlcGluZyB0aGFuIHRob3NlIHdobyBkb24ndCBmZWVsIHJ1c2hlZCwgd2hpY2ggbWlnaHQgaGVscCBleHBsYWluIHRoZWlyIHBlcmNlcHRpb24gb2YgdGltZSBwcmVzc3VyZS4KCiMjIEJlZm9yZSB0aGUgTmV4dCBFeGVyY2lzZTogUmVjb2RlIFZhcmlhYmxlcyBhbmQgU2F2ZSBEYXRhc2V0CgpJbiB0aGUgbmV4dCBleGVyY2lzZSwgd2Ugd2lsbCBjb21wYXJlIHRoZSB0aW1lIHByZXNzdXJlIGZlbHQgYnkgcmVzcG9uZGVudHMgYmFzZWQgb24gd2hldGhlciB0aGV5IGxpdmUgaW4gYW4gKip1cmJhbioqIG9yICoqcnVyYWwqKiBhcmVhLCBhcyBjb2RlZCBpbiB0aGUgYHBvcENlbnRlcmAgY29sdW1uOgoKYGBge3J9CmpzX2RhdGEgfD4KICBjb3VudChwb3BDZW50ZXIpCmBgYAoKQWNjb3JkaW5nIHRvIHRoZSBkYXRhIGRpY3Rpb25hcnksIHRoZXNlIG51bWVyaWMgY29kZXMgbWVhbjoKCnwgdmFsdWUgfCBsYWJlbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CnwtLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18CnwgMSAgICAgfCBMYXJnZXIgdXJiYW4gcG9wdWxhdGlvbiBjZW50cmVzIChDTUEvQ0EpICAgICAgICAgICAgICB8CnwgMiAgICAgfCBSdXJhbCBhcmVhcyBhbmQgc21hbGwgcG9wdWxhdGlvbiBjZW50cmVzIChub24gQ01BL0NBKSB8CnwgMyAgICAgfCBQcmluY2UgRWR3YXJkIElzbGFuZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CgpXZSBjYW4gdXNlICoqZHBseXIqKidzIGBtdXRhdGUoKWAgYWxvbmcgd2l0aCBgaWZfZWxzZSgpYCB0byB0dXJuIHRob3NlIG51bWJlcnMgaW50byBkZXNjcmlwdGl2ZSBsYWJlbHM6CgpgYGB7cn0KanNfZGF0YSA8LSBqc19kYXRhIHw+IG11dGF0ZSgKICBwb3BDZW50ZXI9aWZfZWxzZShwb3BDZW50ZXI9PTEsJ3VyYmFuJywKICAgICAgICAgICAgICAgICAgICBpZl9lbHNlKHBvcENlbnRlcj09MiwncnVyYWwnLCdQRUknKSkKKQpgYGAKCjo6OiB3YWxrdGhyb3VnaApIb3cgaXQgd29ya3M6CgotICAgYG11dGF0ZSgpYDogYWRkcyBvciBtb2RpZmllcyBjb2x1bW5zLgotICAgYGlmX2Vsc2UoY29uZGl0aW9uLCB0cnVlLCBmYWxzZSlgOiBhIHZlY3Rvcml6ZWQsIHR5cGUtc2FmZSBjb25kaXRpb25hbC4KLSAgIEhlcmUsIHdlIG5lc3QgdHdvIGBpZl9lbHNlKClgIGNhbGxzIHNvIHRoYXQ6CiAgICAtICAgYHBvcENlbnRlciA9PSAxYCDihpIgInVyYmFuIgogICAgLSAgIGBwb3BDZW50ZXIgPT0gMmAg4oaSICJydXJhbCIKICAgIC0gICBvdGhlcndpc2UgKGNvZGUgYDNgKSDihpIgIlBFSSIKOjo6CgpOZXh0LCB3ZSdsbCBjcmVhdGUgYSBuZXcgZmxhZyBjYWxsZWQgYGlzRmVlbFJ1c2hlZGAgdG8gbWFyayB3aGV0aGVyIGVhY2ggcmVzcG9uZGVudCBmZWVscyBydXNoZWQgb3Igbm90LiBUaGlzIHdpbGwgYmUgdXNlZnVsIGZvciBvdXIgdXBjb21pbmcgZGF0YS12aXN1YWxpemF0aW9uIHR1dG9yaWFsOgoKYGBge3J9CmpzX2RhdGEgPC0ganNfZGF0YSB8PiBtdXRhdGUoCiAgaXNGZWVsUnVzaGVkPWlmX2Vsc2UoZmVlbFJ1c2hlZCA8PSAzLDEsMCkKKQpgYGAKCjo6OiB3YWxrdGhyb3VnaApJbiB0aGlzIGNvZGU6CgotICAgV2UgYXNzaWduIHRoZSByZXN1bHQgYmFjayBpbnRvIGBqc19kYXRhYCBzbyB0aGUgbmV3IGNvbHVtbiBpcyBzYXZlZC4KLSAgIFRoZSBgaWZfZWxzZSgpYCBmdW5jdGlvbiBjcmVhdGVzIGEgbmV3IGJpbmFyeSB2YXJpYWJsZToKICAgIC0gICBgaXNGZWVsUnVzaGVkID0gMWAgaWYgYGZlZWxSdXNoZWRgIGlzIGAxYCwgYDJgLCBvciBgM2AgKGkuZS4gdGhlIHJlc3BvbmRlbnQgZmVlbHMgcnVzaGVkKQogICAgLSAgIGBpc0ZlZWxSdXNoZWQgPSAwYCBvdGhlcndpc2UgKGkuZS4gbm90IHJ1c2hlZCkKOjo6CgpGaW5hbGx5LCBzYXZlIHRoZSByZWNvZGVkIGRhdGFzZXQgc28gaXQncyByZWFkeSBmb3IgdGhlIG5leHQgc3RlcHM6CgpgYGB7cn0Kc2F2ZShqc19kYXRhLCBmaWxlID0gImRhdGEvdGltZV91c2VfZGF5M18yLlJEYXRhIikKYGBgCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMjIEV4ZXJjaXNlczogVGltZSBmb3IgUHJhY3RpY2UhCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMjIyBPcHRpb25hbCBFeGVyY2lzZSAxOiBVc2luZyBgJWluJWAgT3BlcmF0b3IKCkluIHRoZSBwcmV2aW91cyBzZWN0aW9ucywgd2UgbGVhcm5lZCB0aGF0IHdlIGNhbiBmaWx0ZXIgcmVzcG9uZGVudHMgd2hvIGZlZWwgcnVzaGVkIG9yIG5vdCBieSBlaXRoZXIgdXNpbmcgYSByYW5nZSBjb21wYXJpc29uIChlLmcuLCBgZmVlbFJ1c2hlZCA8PSAzYCkgb3IgYnkgY2hhaW5pbmcgbXVsdGlwbGUgY29uZGl0aW9ucyB3aXRoIGxvZ2ljYWwgb3BlcmF0b3JzIChlLmcuLCBgZmVlbFJ1c2hlZCA9PSAxIHwgZmVlbFJ1c2hlZCA9PSAyIHwgZmVlbFJ1c2hlZCA9PSAzYCkuCgpIb3dldmVyLCB0aGVyZSdzIGFsc28gYSB0aGlyZCwgbW9yZSBlbGVnYW50IGFwcHJvYWNoOiB1c2luZyB0aGUgYCVpbiVgIG9wZXJhdG9yLiBUaGlzIG1ldGhvZCBpcyBlc3BlY2lhbGx5IGhlbHBmdWwgd2hlbiB3ZSB3YW50IHRvIGZpbHRlciBhIGRhdGFzZXQgYmFzZWQgb24gbXVsdGlwbGUgc3BlY2lmaWMgdmFsdWVzIG9mIGEgdmFyaWFibGUsIG1ha2luZyBvdXIgY29kZSBzaG9ydGVyIGFuZCBlYXNpZXIgdG8gcmVhZC4KCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKOjo6IHF1ZXN0aW9uCioqRXhhbXBsZSBTY2VuYXJpbyoqCgpSZW1lbWJlciB0aGUgcHJldmlvdXMgcXVlc3Rpb24gd2hlcmUgd2UncmUgYW5hbHl6aW5nIHN1cnZleSBkYXRhIG9uIGhvdyBmcmVxdWVudGx5IHBlb3BsZSBmZWVsIHJ1c2hlZC4gVGhlIGBmZWVsUnVzaGVkYCB2YXJpYWJsZSBpbmNsdWRlcyB2YWx1ZXMgZnJvbSAxIChkYWlseSkgdG8gNiAobmV2ZXIpLiBXZSB3YW50IHRvIGdyb3VwIHJlc3BvbmRlbnRzIGludG8gdHdvIGNhdGVnb3JpZXM6CgotICAgKipSdXNoZWQqKjogdGhvc2Ugd2hvIGZlZWwgcnVzaGVkIGF0IGxlYXN0IG9uY2UgYSB3ZWVrIChgMWAsIGAyYCwgYDNgKQotICAgKipOb3QgUnVzaGVkKio6IHRob3NlIHdobyBmZWVsIHJ1c2hlZCBsZXNzIG9mdGVuIChgNGAsIGA1YCwgYDZgKQoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoqKlRhc2sgSW5zdHJ1Y3Rpb25zKioKCjEuICBEZWZpbmUgdGhlIHNldHMgb2YgdmFsdWVzIHRoYXQgcmVwcmVzZW50IGVhY2ggZ3JvdXAuCjIuICBVc2UgdGhlIGAlaW4lYCBvcGVyYXRvciBpbnNpZGUgYGZpbHRlcigpYCB0byBjcmVhdGUgc3Vic2V0cy4KMy4gIERpc3BsYXkgdGhlIGZpcnN0IGZldyByb3dzIG9mIGVhY2ggc3Vic2V0IHRvIHZlcmlmeSBjb3JyZWN0bmVzcy4KNC4gIENvdW50IHRoZSBudW1iZXIgb2Ygcm93cyBpbiBlYWNoIGdyb3VwIHRvIGNvbXBhcmUgc2l6ZXMuCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCioqU3RlcHMgMSAmIDI6IERlZmluZSB0aGUgc2V0cyBhbmQgdXNlIGAlaW4lYCBpbnNpZGUgYGZpbHRlcigpYCoqCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgcmVzdWx0cyA9ICdoaWRlJ30KIyBEZWZpbmUgZ3JvdXAgbGV2ZWxzCnJ1c2hlZF9sZXZlbHMgPC0gYygxLCAyLCAzKQpub3RfcnVzaGVkX2xldmVscyA8LSBjKDQsIDUsIDYpCgojIEZpbHRlciB1c2luZyAlaW4lCmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgJWluJSBydXNoZWRfbGV2ZWxzKQoKanNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCAlaW4lIG5vdF9ydXNoZWRfbGV2ZWxzKQpgYGAKCioqU3RlcCAzYTogVmlldyB0aGUgZmlyc3QgZmV3IHJvd3Mgb2YgYHJ1c2hlZF9sZXZlbHNgKioKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIGZpbHRlcihmZWVsUnVzaGVkICVpbiUgcnVzaGVkX2xldmVscykgfD4gCiAgaGVhZCgpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgJWluJSBydXNoZWRfbGV2ZWxzKSB8PiAKICBoZWFkKCkgfD4gCiAga2JsKCkgfD4gCiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4gCiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgoqKlN0ZXAgM2I6IFZpZXcgdGhlIGZpcnN0IGZldyByb3dzIG9mIGBub3RfcnVzaGVkX2xldmVsc2AqKgoKYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZScsIHJlc3VsdHMgPSAnaGlkZSd9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgJWluJSBub3RfcnVzaGVkX2xldmVscykgfD4gCiAgaGVhZCgpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgJWluJSBub3RfcnVzaGVkX2xldmVscykgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PiAKICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PiAKICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKCioqU3RlcCA0OiBDb3VudCByb3dzKioKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQoKcnVzaGVkX3Jvd3MgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIoZmVlbFJ1c2hlZCAlaW4lIHJ1c2hlZF9sZXZlbHMpIHw+IAogIG5yb3coKQoKbm90X3J1c2hlZF9yb3dzIDwtIGpzX2RhdGEgfD4gCiAgZmlsdGVyKGZlZWxSdXNoZWQgJWluJSBub3RfcnVzaGVkX2xldmVscykgfD4gCiAgbnJvdygpCgpwcmludChwYXN0ZSgiVGhlIG51bWJlciBvZiByb3dzIGluIHJ1c2hlZCBpczoiLCBydXNoZWRfcm93cykpCnByaW50KHBhc3RlKCJUaGUgbnVtYmVyIG9mIHJvd3MgaW4gbm90IHJ1c2hlZCBpczoiLCBub3RfcnVzaGVkX3Jvd3MpKQpgYGAKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKKipTdW1tYXJ5KioKClRoaXMgZXhhbXBsZSBzaG93cyBob3cgdGhlIGAlaW4lYCBvcGVyYXRvciBzaW1wbGlmaWVzIGZpbHRlcmluZyB3aGVuIHdvcmtpbmcgd2l0aCBjYXRlZ29yaWNhbCB2YXJpYWJsZXMuIEl0IGF2b2lkcyB0aGUgbmVlZCB0byB3cml0ZSBtdWx0aXBsZSBgPT1gIGFuZCBgfGAgY29uZGl0aW9ucywgbWFraW5nIG91ciBjb2RlIGNsZWFuZXIgYW5kIGVhc2llciB0byByZWFkLgo6OjoKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMjIE9wdGlvbmFsIEV4ZXJjaXNlIDI6IFVyYmFuIHZzIFJ1cmFsIFRpbWUgUHJlc3N1cmUgQW5hbHlzaXMKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKOjo6IHdhbGt0aHJvdWdoCkxldCdzIHVzZSBvdXIgbmV3IGZpbHRlcmluZyBhbmQgc2VsZWN0aW5nIHNraWxscyB0byBleHBsb3JlIGhvdyBwZW9wbGUgaW4gdXJiYW4gYW5kIHJ1cmFsIGFyZWFzIGRpZmZlciBpbiB0ZXJtcyBvZiB0aW1lIHByZXNzdXJlLCBiYXNlZCBvbiB0aGVpciByZXBvcnRlZCBleHRyYSB0aW1lLgoKKipUYXNrIEluc3RydWN0aW9ucyoqCgoxLiAgRXhwbG9yZSB0aGUgYHBvcENlbnRlcmAgYW5kIGBleHRyYVRpbWVgIGNvbHVtbnMgdG8gdW5kZXJzdGFuZCB0aGUgdmFyaWFibGUgdHlwZXMgYW5kIHBvc3NpYmxlIHZhbHVlcy4KMi4gIEZpbHRlciB0aGUgZGF0YXNldCBpbnRvIHR3byBncm91cHM6IGB1cmJhbmAgYW5kIGBydXJhbGAuCjMuICBTZWxlY3QgdGhlIHJlbGV2YW50IHZhcmlhYmxlczogYHBvcENlbnRlcmAsIGBleHRyYVRpbWVgLCBgZHVyV29ya2AsIGFuZCBgZHVyU2xlZXBgLgo0LiAgQ2FsY3VsYXRlIGFuZCBjb21wYXJlIHRoZSBhdmVyYWdlIGBleHRyYVRpbWVgIGJldHdlZW4gdGhlIHR3byBncm91cHMuCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCioqU3RlcCAxOiBFeHBsb3JlIHRoZSBEYXRhKioKCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgcmVzdWx0cyA9ICdoaWRlJ30KanNfZGF0YSB8PiAKICBkaXN0aW5jdChwb3BDZW50ZXIpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmpzX2RhdGEgfD4gCiAgZGlzdGluY3QocG9wQ2VudGVyKSB8PgogIGtibCgpIHw+IAogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+IAogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCmBgYAoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIGNvdW50KGV4dHJhVGltZSkgfD4gCiAgYXJyYW5nZShkZXNjKG4pKSB8PiAKICBoZWFkKCkKYGBgCgpgYGB7ciwgZWNobz1GQUxTRX0KanNfZGF0YSB8PiAKICBjb3VudChleHRyYVRpbWUpIHw+IAogIGFycmFuZ2UoZGVzYyhuKSkgfD4gCiAgaGVhZCgpIHw+CiAga2JsKCkgfD4gCiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4gCiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCioqU3RlcCAyOiBGaWx0ZXIgVXJiYW4gYW5kIFJ1cmFsIFBvcHVsYXRpb25zKioKClRvIGZpbHRlciB0aGUgdXJiYW4gcG9wdWxhdGlvbiwgd2UgdXNlIHRoZSBgZmlsdGVyKClgIGZ1bmN0aW9uIHRvIGtlZXAgb25seSByb3dzIHdoZXJlIGBwb3BDZW50ZXJgIGlzIGVxdWFsIHRvIGAidXJiYW4iYC4gVGhlbiwgd2UgdXNlIGBoZWFkKClgIHRvIGRpc3BsYXkgdGhlIGZpcnN0IGZldyByb3dzIG9mIHRoZSByZXN1bHRpbmcgZGF0YWZyYW1lOgoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCByZXN1bHRzID0gJ2hpZGUnfQpqc19kYXRhIHw+IAogIGZpbHRlcihwb3BDZW50ZXIgPT0gJ3VyYmFuJykgfD4KICBoZWFkKCkKYGBgCgpgYGB7ciwgZWNobz1GQUxTRX0KanNfZGF0YSB8PiAKICBmaWx0ZXIocG9wQ2VudGVyID09ICd1cmJhbicpIHw+CiAgaGVhZCgpIHw+IAogIGtibCgpIHw+IAogIGthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSAic3RyaXBlZCIpIHw+IAogIHNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIpCmBgYAoKU2ltaWxhcmx5LCB3ZSBmaWx0ZXIgdGhlIHJ1cmFsIHBvcHVsYXRpb24sIHRoZW4gcHJldmlldyB0aGUgZmlyc3QgZmV3IHJvd3Mgb2YgdGhlIHJlc3VsdGluZyBkYXRhZnJhbWU6CgpgYGB7ciwgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZScsIHJlc3VsdHMgPSAnaGlkZSd9CmpzX2RhdGEgfD4gCiAgZmlsdGVyKHBvcENlbnRlciA9PSAncnVyYWwnKSB8PgogIGhlYWQoKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpqc19kYXRhIHw+IAogIGZpbHRlcihwb3BDZW50ZXIgPT0gJ3J1cmFsJykgfD4KICBoZWFkKCkgfD4KICBrYmwoKSB8PiAKICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PiAKICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKKipTdGVwIDM6IFNlbGVjdCBSZWxldmFudCBWYXJpYWJsZXMqKgoKV2Ugc2VsZWN0IHRoZSBmb2xsb3dpbmcgdmFyaWFibGVzOgoKLSAgIGBwb3BDZW50ZXJgOiB0byBpbmRpY2F0ZSBncm91cCBpZGVudGl0eSAodXJiYW4gdnMuIHJ1cmFsKQotICAgYGV4dHJhVGltZWA6IHRvIG1lYXN1cmUgcGVyY2VpdmVkIHRpbWUgYXZhaWxhYmlsaXR5Ci0gICBgZHVyV29ya2A6IHRvIGV4YW1pbmUgd29yayBkdXJhdGlvbgotICAgYGR1clNsZWVwYDogdG8gZXZhbHVhdGUgc2xlZXAgcGF0dGVybnMKCldlIHN0YXJ0IGJ5IHNlbGVjdGluZyB0aGUgcmVsZXZhbnQgY29sdW1ucyBmcm9tIHRoZSBmaWx0ZXJlZCB1cmJhbiBkYXRhZnJhbWU6CgpgYGB7ciwgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZScsIHJlc3VsdHMgPSAnaGlkZSd9CnVyYmFuX3NlbGVjdGVkIDwtIGpzX2RhdGEgfD4gCiAgZmlsdGVyKHBvcENlbnRlciA9PSAndXJiYW4nKSB8PiAKICBzZWxlY3QocG9wQ2VudGVyLCBleHRyYVRpbWUsIGR1cldvcmssIGR1clNsZWVwKQoKdXJiYW5fc2VsZWN0ZWQgfD4gCiAgaGVhZCgpCmBgYAoKYGBge3IsIGVjaG89RkFMU0V9CmhlYWQodXJiYW5fc2VsZWN0ZWQpIHw+CiAga2JsKCkgfD4gCiAga2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9ICJzdHJpcGVkIikgfD4gCiAgc2Nyb2xsX2JveCh3aWR0aCA9ICIxMDAlIikKYGBgCgpTaW1pbGFybHksIHdlIHNlbGVjdCBjb2x1bW5zIGZyb20gdGhlIGZpbHRlcmVkIHJ1cmFsIGRhdGFmcmFtZToKCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgcmVzdWx0cyA9ICdoaWRlJ30KcnVyYWxfc2VsZWN0ZWQgPC0ganNfZGF0YSB8PiAKICBmaWx0ZXIocG9wQ2VudGVyID09ICdydXJhbCcpIHw+IAogIHNlbGVjdChwb3BDZW50ZXIsIGV4dHJhVGltZSwgZHVyV29yaywgZHVyU2xlZXApIApgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpoZWFkKHJ1cmFsX3NlbGVjdGVkKSB8PiAKICBrYmwoKSB8PiAKICBrYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gInN0cmlwZWQiKSB8PiAKICBzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiKQpgYGAKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKKipTdGVwIDQ6IENhbGN1bGF0ZSBhbmQgQ29tcGFyZSBNZWFuIEV4dHJhIFRpbWUqKgoKVG8gY2FsY3VsYXRlIHRoZSBhdmVyYWdlIGFtb3VudCBvZiBleHRyYSB0aW1lIHJlcG9ydGVkIGJ5IHVyYmFuIGFuZCBydXJhbCByZXNwb25kZW50cywgd2UgdXNlIHRoZSBgc3VtbWFyaXNlKClgIGZ1bmN0aW9uOgoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCByZXN1bHRzID0gJ2hpZGUnfQptZWFuX3VyYmFuIDwtIHVyYmFuX3NlbGVjdGVkIHw+IAogIHN1bW1hcmlzZShhdmdfZXh0cmFfdGltZSA9IG1lYW4oZXh0cmFUaW1lLCBuYS5ybSA9IFRSVUUpKQptZWFuX3J1cmFsIDwtIHJ1cmFsX3NlbGVjdGVkIHw+IAogIHN1bW1hcmlzZShhdmdfZXh0cmFfdGltZSA9IG1lYW4oZXh0cmFUaW1lLCBuYS5ybSA9IFRSVUUpKQpgYGAKCmBgYHtyLCBlY2hvPUZBTFNFfQpwcmludCgiTWVhbiBleHRyYSB0aW1lIGZvciBVcmJhbiByZXNwb25kZW50czoiKQptZWFuX3VyYmFuIHw+IGtibCgpIHw+IGthYmxlX3N0eWxpbmcoKQoKcHJpbnQoIk1lYW4gZXh0cmEgdGltZSBmb3IgUnVyYWwgcmVzcG9uZGVudHM6IikKbWVhbl9ydXJhbCB8PiBrYmwoKSB8PiBrYWJsZV9zdHlsaW5nKCkKYGBgCgpJdCBzZWVtcyB0aGF0LCBvbiBhdmVyYWdlLCByZXNwb25kZW50cyByZXNpZGluZyBpbiBydXJhbCBhcmVhcyBoYXZlIG1vcmUgYGV4dHJhVGltZWAuIEhpZ2hlciB2YWx1ZXMgaW4gYGV4dHJhVGltZWAgaW5kaWNhdGUgZ3JlYXRlciBhdmFpbGFiaWxpdHkgb2YgZnJlZSB0aW1lLgo6OjoKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyMgVGFrZWF3YXkKCkluIHRoaXMgc2Vzc2lvbiwgd2UgbGVhcm5lZCBob3cgdG8gZmlsdGVyIHJvd3MgYW5kIHNlbGVjdCBzcGVjaWZpYyBjb2x1bW5zIHRvIGNyZWF0ZSBhIHNtYWxsZXIsIGNsZWFuZXIgZGF0YXNldCB0aGF0IGhlbHBzIHVzIGFuc3dlciBvdXIgZ3VpZGluZyBxdWVzdGlvbiBtb3JlIGVmZmljaWVudGx5LiBVc2luZyBmdW5jdGlvbnMgZnJvbSB0aGUgYGRwbHlyYCBwYWNrYWdlIGxpa2UgYGZpbHRlcigpYCwgYHNlbGVjdCgpYCwgYW5kIGBtdXRhdGUoKWAsIHdlIHByYWN0aWNlZCBob3cgdG86CgotICAgRmlsdGVyIHJvd3MgYmFzZWQgb24gY29uZGl0aW9ucyB1c2luZyBjb21wYXJpc29uIGFuZCBsb2dpY2FsIG9wZXJhdG9yc1wKLSAgIFNlbGVjdCBvbmx5IHRoZSB2YXJpYWJsZXMgd2UgY2FyZSBhYm91dCB1c2luZyBgc2VsZWN0KClgIGFuZCBoZWxwZXIgZnVuY3Rpb25zIGxpa2UgYHN0YXJ0c193aXRoKClgXAotICAgVXNlIGBzdW1tYXJpc2UoKWAgYW5kIGBhY3Jvc3MoKWAgdG8gY2FsY3VsYXRlIG1lYW4gdmFsdWVzIGZvciBlbnRpcmUgZ3JvdXBzXAotICAgUmVjb2RlIHZhcmlhYmxlcyBsaWtlIGBwb3BDZW50ZXJgIGFuZCBjcmVhdGUgbmV3IGZsYWdzIGxpa2UgYGlzRmVlbFJ1c2hlZGAgd2l0aCBgbXV0YXRlKClgCgpUaGVzZSB0ZWNobmlxdWVzIGhlbHAgdXMgem9vbSBpbiBvbiB0aGUgcGFydHMgb2YgdGhlIGRhdGEgdGhhdCBtYXR0ZXIgbW9zdCBhbmQgcHJlcGFyZSBmb3IgZGVlcGVyIGV4cGxvcmF0aW9uIGluIHRoZSBuZXh0IHNlc3Npb25zLgoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCg==</div>
<div id="footer">
    <hr />
    <div class = "inst-logos">
      <img src="images/institutions/carleton.png" />
      <img src="images/institutions/calgary.png" />
      <img src="images/institutions/ubc.png" />
      <img class="uvic"  src="images/institutions/uvic.png" />
    </div>

<br>
    <div>
      <img class = "cc-licence" src="images/institutions/CC-License.png" />
      <p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-nc/4.0/" target ="blank">Creative Commons Attribution-NonCommercial 4.0 International License</p>
</div>
<br>
Built and rendered courtesy of <a href="https://rmarkdown.rstudio.com/index.html" target ="blank">RMarkdown from RStudio</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Block7_Bonus_Filter-and-Select.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
