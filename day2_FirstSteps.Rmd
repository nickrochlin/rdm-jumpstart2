---
title: "Day 2 - First steps in R"
pagetitle: "Mise en Place"
output:
  html_document:
    code_folding: show # allows toggling of showing and hiding code. Remove if not using code.
    code_download: true # allows the user to download the source .Rmd file. Remove if not using code.
    includes:
      after_body: footer.html # include a custom footer.
    toc: true
    toc_depth: 3
    toc_float:
      collapsed: false
      smooth_scroll: false
---

## RMarkdown

RMarkdown is a document format that integrates R code with formatted text, allowing users to create dynamic and reproducible reports, presentations, and documents. 

The key difference between R and RMarkdown is that R is used for executing code and performing computations, whereas RMarkdown is a tool for combining R code with explanatory text in a structured document. In RMarkdown, code chunks can be embedded within a narrative, and when the document is **knit** the results (including text, tables, and plots) are automatically generated and formatted, making it ideal for creating research reports, analyses, and presentations.

You can add annotations to a regular r file by using the # symbol. Any text that follows will be treated as a comment and not as part of the code. RMarkdown have more formatting options that help organize the file into sections, helping the researcher document every step taken when working with data. 

The importance of creating the habit of annotating your files for RDM

## Basics of RMarkdown

Symbol | Function
|------|------|
| #| Level 1 heading|
| ##| Level 2 heading|
| ###| Level 3 heading|
| * word * (without spaces)| *Italics*| 
| ** word ** (without spaces)| *Bold*|



For aditional information, [click here] <https://rmarkdown.rstudio.com/lesson-8.html>

## Chunks of code

Inside a chunk of R code, everything behaves the same as a regular R document.

:::note
```{r}
#Starts with ```{r}
#ends with ```
```
:::


# Intro to Data in R
## Basic syntax of an R script

The most important components of an R script are objects and functions.
Objects store information and functions are used to manipulate the data.

## Read data
To import a dataset
```{r}
mydata <- read.csv("data/timeuse_day1.csv")
```
#Will also add how to read spss, stata, sas, excel, and how to open from "import dataset" in environment window

## Listing colnames
To ask for a list of all the column names in your dataset
```{r}
colnames(mydata)
```

## Head function
The head function will show you the top rows of your dataset. It will include information about the default data type assigned to each column. You will learn more about data types tomorrow.
```{r}
head(mydata)
```

## Viewing data
To visualize the full dataset
```{r}
View(mydata)
```
This will open our dataset in a separate window

#Packages and libraries

## Install package

```{r}
#install.packages("tidyverse")
```
## Load libraries

```{r}
library(tidyverse)
```
## Change column names

```{r}
mydata <- mydata %>%
  rename ("id" = "PUMFID",
          "ageGrp" = "AGEGR10",
          "sex" = "SEX",
          "maritalStat" = "MARSTAT",
          "province" =  "PRV",
          "popCenter" = "LUC_RST",
          "eduLevel" = "EHG_ALL",
          "feelRushed" = "GTU_110",
          "extraTime" = "GTU_130",
          "durSleep" = "DUR01",
          "durMealPrep" = "DUR05",
          "durEating" = "DUR06",
          "durAlone" = "DURS200",
          "durDriving" = "DURL313",
          "durWork" = "DUR08",
          "durShoolSite" = "DUR13",
          "durSchoolOnline" = "DUR14",
          "durStudy" = "DUR15",
          "worked12m" = "MRW_D40A",
          "workedWeek" = "MRW_D40B",
          "enrollStat" = "EDM_02",
          "dailyTexts" = "TST_01",
          "timeSlowDown" = "TCS_110",
          "timeWorkaholic" = "TCS_120",
          "timeNotFamFriends" = "TCS_150",
          "timeWantAlone" = "TCS_200")
```
```{r}
colnames(mydata)
```




## Save as RData
Saving your dataset in R format (RData) will preserve data types and metadata you asign to your dataset. 
The text format (csv) will be the ideal format to share your data.
#need to edit the wording here, describe difference between csv and RData, when and why use each.

```{r}
file.path("~/data/")
save(mydata, file=(file.path("timeuse_day2.RData")))
```
#file is not saving in the right folder???


#I will also include in day 2 how to install packages and load libraries
